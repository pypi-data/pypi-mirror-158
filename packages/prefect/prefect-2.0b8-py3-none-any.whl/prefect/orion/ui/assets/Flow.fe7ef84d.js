import{d as C,u as F,b as l,e as m,L as g,f as c,o as a,g as r,w as t,h as e,M as N,i as u,N as w,l as _,O as S,D as A,Q as B,y as O}from"./index.81b118c5.js";import{u as R}from"./useRouteParam.14d7a074.js";const M=C({__name:"Flow",setup(V){const f=R("id"),d=F(),y=l(()=>{const s=["Deployments"];return A.xl||s.unshift("Details"),s}),i={interval:3e5},b=m(g.getFlow,[f.value],i),o=l(()=>b.response),D=l(()=>({flows:{id:{any_:[f.value]}}})),p=m(B.getDeployments,[D],i),v=l(()=>{var s;return(s=p.response)!=null?s:[]});function k(){d.push(O.flows())}return(s,n)=>{const $=c("p-tabs"),h=c("p-layout-well");return a(),r(h,{class:"flow"},{header:t(()=>[e(o)?(a(),r(e(N),{key:0,flow:e(o),onDelete:k},null,8,["flow"])):u("",!0)]),well:t(()=>[e(o)?(a(),r(e(w),{key:0,flow:e(o)},null,8,["flow"])):u("",!0)]),default:t(()=>[_($,{tabs:e(y)},{details:t(()=>[e(o)?(a(),r(e(w),{key:0,flow:e(o)},null,8,["flow"])):u("",!0)]),deployments:t(()=>[_(e(S),{deployments:e(v),onUpdate:n[0]||(n[0]=x=>e(p).refresh()),onDelete:n[1]||(n[1]=x=>e(p).refresh())},null,8,["deployments"])]),_:1},8,["tabs"])]),_:1})}}});export{M as default};
