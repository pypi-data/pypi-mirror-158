import{d as q,u as h,e as c,$ as C,b as n,f as d,o as p,g as l,w as r,h as e,a6 as g,i as _,l as f,a7 as x,O as I,Q as S,y as U}from"./index.81b118c5.js";import{u as A}from"./useRouteParam.14d7a074.js";const R=q({__name:"WorkQueue",setup(B){const y=h(),k=A("id"),m={interval:3e5},i=c(C.getWorkQueue,[k.value],m),o=n(()=>i.response),w=n(()=>{var s,t,u;return(u=(t=(s=o==null?void 0:o.value)==null?void 0:s.filter)==null?void 0:t.deploymentIds)!=null?u:[]}),Q=n(()=>({deployments:{id:{any_:w.value}}})),a=c(S.getDeployments,[Q],m),D=n(()=>{var s;return(s=a.response)!=null?s:[]}),b=()=>{y.push(U.workQueues())};return(s,t)=>{const u=d("p-tabs"),v=d("p-layout-default");return p(),l(v,{class:"queue"},{header:r(()=>[e(o)?(p(),l(e(g),{key:0,queue:e(o),onUpdate:e(i).refresh,onDelete:b},null,8,["queue","onUpdate"])):_("",!0)]),default:r(()=>[f(u,{tabs:["Details","Deployments"]},{details:r(()=>[e(o)?(p(),l(e(x),{key:0,"work-queue":e(o)},null,8,["work-queue"])):_("",!0)]),deployments:r(()=>[f(e(I),{deployments:e(D),onUpdate:t[0]||(t[0]=$=>e(a).refresh()),onDelete:t[1]||(t[1]=$=>e(a).refresh())},null,8,["deployments"])]),_:1})]),_:1})}}});export{R as default};
