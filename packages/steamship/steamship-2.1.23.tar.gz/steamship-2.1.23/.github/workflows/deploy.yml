#name: Deploy
#
#on:
#  push:
#    tags:
#      - 'v[0-9]+.[0-9]+.[0-9]+*'
#
#jobs:
#  build-n-publish:
#    name: Build and publish Python 🐍 distributions 📦 to PyPI and TestPyPI
#    runs-on: ubuntu-18.04
#    steps:
#    - uses: actions/checkout@master
#    - name: Set up Python 3.8
#      uses: actions/setup-python@v1
#      with:
#        python-version: 3.8
#    - name: Install pypa/build
#      run: >-
#        python -m
#        pip install
#        build tox
#        --user
#    - name: Build a binary wheel and a source tarball
#      run: >-
#        tox -e
#        build
#    - name: Publish distribution 📦 to Test PyPI
#      run: >-
#        tox -e
#        publish
#      env:
#        TWINE_USERNAME: __token__
#        TWINE_PASSWORD: ${{ secrets.TEST_PYPI_API_TOKEN }}
#        TWINE_NON_INTERACTIVE: true
#        TWINE_REPOSITORY_URL: https://test.pypi.org/legacy/
#    - name: Publish distribution 📦 to PyPI
#      if: startsWith(github.ref, 'refs/tags')
#      run: >-
#        tox -e
#        publish -- --repository pypi
#      env:
#        TWINE_USERNAME: __token__
#        TWINE_PASSWORD: ${{ secrets.PYPI_API_TOKEN }}
#        TWINE_NON_INTERACTIVE: true
