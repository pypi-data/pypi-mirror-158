{"version":3,"file":"lib_index_js.15c7afe06aa7d42f9bf8.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAkD;AACA;AACZ;AACY;;AAElD;;AAEA,iEAAe;AACf;AACA;AACA,eAAe,4DAAU;AACzB;AACA;AACA;AACA;AACA;;AAEA,YAAY,eAAe;;AAE3B;AACA,gBAAgB,gEAAU;AAC1B,gBAAgB,wDAAK,+BAA+B;AACpD,yCAAyC,2BAA2B,kBAAkB,oBAAoB,SAAS,iEAAO,CAAC;AAC3H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iKAAiK;AACzM;AACA,SAAS;AACT;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAC;;;;;;;;;;;;;;;AC/DF,iEAAe,qBAAuB,yEAAyE","sources":["webpack://jupyterlab_mutableai_optin/./lib/index.js","webpack://jupyterlab_mutableai_optin/./style/images/mutable.png"],"sourcesContent":["import { showDialog } from \"@jupyterlab/apputils\";\nimport { IMutableAI } from \"jupyterlab_mutableai\";\nimport parse from \"html-react-parser\";\nimport mutable from \"../style/images/mutable.png\";\n\nconst SHOWN_OPTIN = \"jupyterlab_mutableai_optin:shown\";\n\nexport default [\n  {\n    id: 'jupyterlab_mutableai_optin',\n    requires: [IMutableAI],\n    autoStart: true,\n    activate: function (app, mutableManager) {\n      console.log(\n        'JupyterLab extension jupyterlab_mutableai_optin is activated!'\n      );\n\n      let { localStorage } = window;\n\n      function showOptIn() {\n        let p = showDialog({\n          body: parse(`<div style=\"max-width: 500px;\">\n          <div style=\"text-align: center;\"><img style=\"width: 100%; max-width: 300px; padding-bottom: 2em;\" src=\"${mutable}\" /></div>\n          Enable Mutable AI in JupyterLab to get AI powered code intelligence features:<br>\n          <br>\n          <div style=\"padding-left: 1em\">âœ… Transform to production quality code</div>\n          <br>\n          <div style=\"padding-left: 1em\">âœ¨ Automatic type annotations</div>\n          <br>\n          <div style=\"padding-left: 1em\">ðŸ“– AI based documentation generation</div>\n          <br>\n          <span style='font-size: 0.9em;'>If enabled, code you transform is sent to, but not stored on, Mutable AI and their third party servers. Learn more on the <a style=\"text-decoration: underline;\" href=\"https://mutableai.com\">MutableAI website</a>.</span></div>\n          `),\n        })\n        p.then((r) => {\n          if (r.button.accept) {\n            mutableManager.enable();\n          } else {\n            mutableManager.disable();\n          }\n          localStorage.setItem(SHOWN_OPTIN, true);\n        });\n      }\n\n      function initOptin() {\n        // No callback for readiness unfortunately\n        let readyInterval = setInterval(() => {\n          if (app.shell.isAttached) {\n            showOptIn()\n            clearInterval(readyInterval);\n          }\n        }, 10);\n      }\n\n      if (!localStorage.getItem(SHOWN_OPTIN)) {\n        // Disable by default\n        mutableManager.disable();\n\n        // Then ask to enable\n        initOptin();\n      }\n    }\n  }\n];\n","export default __webpack_public_path__ + \"551302024f9f9dcad3fd02d7bbfcd628cf81d75a81202edb87758d23aaa619ab.png\";"],"names":[],"sourceRoot":""}