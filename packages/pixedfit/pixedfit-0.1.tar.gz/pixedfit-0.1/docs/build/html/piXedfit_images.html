

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>piXedfit_images &mdash; piXedfit 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="piXedfit_spectrophotometric" href="piXedfit_spectrophotometric.html" />
    <link rel="prev" title="SED fitting" href="demos_sed_fitting.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> piXedfit
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="manage_filters.html">Managing filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="list_imaging_data.html">List of imaging data</a></li>
<li class="toctree-l1"><a class="reference internal" href="list_kernels_psf.html">Convolution kernels and PSFs</a></li>
<li class="toctree-l1"><a class="reference internal" href="ingredients_model.html">SED modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="gen_model_SEDs.html">Generating model SEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="image_pros.html">Image processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="image_ifs_match.html">Spatial and Spectral Matching of imaging and IFS data</a></li>
<li class="toctree-l1"><a class="reference internal" href="pixel_binning.html">Pixel binning</a></li>
<li class="toctree-l1"><a class="reference internal" href="fit_ing_SEDs.html">Fitting individual SED</a></li>
<li class="toctree-l1"><a class="reference internal" href="fit_res_SEDs.html">Fitting spatially resolved SEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot_fitres.html">Analyzing fitting results</a></li>
<li class="toctree-l1"><a class="reference internal" href="get_maps_prop.html">Get maps of spatially resolved properties</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">Demonstrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="demos_pixel_binning.html">Pixel binning</a></li>
<li class="toctree-l1"><a class="reference internal" href="demos_sed_fitting.html">SED fitting</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">piXedfit_images</a></li>
<li class="toctree-l1"><a class="reference internal" href="piXedfit_spectrophotometric.html">piXedfit_spectrophotometric</a></li>
<li class="toctree-l1"><a class="reference internal" href="piXedfit_bin.html">piXedfit_bin</a></li>
<li class="toctree-l1"><a class="reference internal" href="piXedfit_model.html">piXedfit_model</a></li>
<li class="toctree-l1"><a class="reference internal" href="piXedfit_fitting.html">piXedfit_fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="piXedfit_analysis.html">piXedfit_analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utils</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">piXedfit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>piXedfit_images</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/piXedfit_images.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-piXedfit.piXedfit_images">
<span id="pixedfit-images"></span><span id="api-images"></span><h1>piXedfit_images<a class="headerlink" href="#module-piXedfit.piXedfit_images" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="piXedfit.piXedfit_images.EBV_foreground_dust">
<code class="sig-prename descclassname">piXedfit.piXedfit_images.</code><code class="sig-name descname">EBV_foreground_dust</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ra</span></em>, <em class="sig-param"><span class="n">dec</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.EBV_foreground_dust" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for estimating E(B-V) associated with the foreground Galactic dust attenuation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> – Right ascension in degree.</p></li>
<li><p><strong>dec</strong> – Declination in degree.</p></li>
</ul>
</dd>
<dt class="field-even">Returns ebv</dt>
<dd class="field-even"><p>E(B-V) associated with the foreground Galactic dust.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="piXedfit.piXedfit_images.crop_stars_galregion_fits">
<code class="sig-prename descclassname">piXedfit.piXedfit_images.</code><code class="sig-name descname">crop_stars_galregion_fits</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_fits</span></em>, <em class="sig-param"><span class="n">x_cent</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">y_cent</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">radius</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">name_out_fits</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.crop_stars_galregion_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>A function for cropping foreground stars within a galaxy’s region of interst.
The input is a FITS file of reduced multiband fluxes maps output of flux_map() function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_fits</strong> – The input FITS file.</p></li>
<li><p><strong>and y_cent</strong> (<em>x_cent</em>) – Arrays containing cenral coordinates of the stars.</p></li>
<li><p><strong>radius</strong> – Arrays containing the estimated radii of the stars.</p></li>
<li><p><strong>name_out_fits</strong> – Desired name for the output FITS file. If None, a generic name will be used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="piXedfit.piXedfit_images.images_processing">
<em class="property">class </em><code class="sig-prename descclassname">piXedfit.piXedfit_images.</code><code class="sig-name descname">images_processing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filters</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">sci_img</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">var_img</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">gal_ra</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gal_dec</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">img_unit</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">img_scale</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">flag_psfmatch</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">flag_reproject</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">flag_crop</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">img_pixsizes</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">kernels</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">gal_z</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stamp_size</span><span class="o">=</span><span class="default_value">[101, 101]</span></em>, <em class="sig-param"><span class="n">remove_files</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.images_processing" title="Permalink to this definition">¶</a></dt>
<dd><p>A Python class for processing of multiband imaging data. The processing basically includes PSF-matching to homogenize the spatial (angular) resolution of the multiband imaging data
and spatial-resampling and reprojection to homogenize the pixel size and spatil reprojection of the mulltiband imaging data. A list of imaging data sets that can be handle using this class in the current version of piXedfit
can be seen at <a class="reference internal" href="list_imaging_data.html#list-imagingdata"><span class="std std-ref">List of imaging data</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filters</strong> – List of photometric filters names in string format. The accepted naming for the filters can be seen using <code class="xref py py-func docutils literal notranslate"><span class="pre">list_filters()</span></code> function in the <code class="xref py py-mod docutils literal notranslate"><span class="pre">utils.filtering</span></code> module.
It is not mandatory to give the filters names in the wavelength order (from shortest to longest).</p></li>
<li><p><strong>sci_img</strong> – Dictionary containing names of the science images.</p></li>
<li><p><strong>var_img</strong> – Dictionary containing names of the variance images.</p></li>
<li><p><strong>gal_ra</strong> – Coordinate Right Ascension (RA) of the target galaxy.</p></li>
<li><p><strong>gal_dec</strong> – Coordinate Declination (DEC) of the target galaxy.</p></li>
<li><p><strong>img_unit</strong> – (optional)
Unit of pixel value in the multiband images. The input format is python dictionary.
This input will only be considered (and required) if the input images are not among the default list of recognized imaging data
in piXedfit (i.e. GALEX, SDSS, 2MASS, WISE, Spitzer, and Herschel).
The allowed units are: (1)”erg/s/cm2/A”, (2) “Jy”, and (3) “MJy/sr”.</p></li>
<li><p><strong>img_scale</strong> – (optional)
Scale of the pixel value with respect to the unit in img_unit. For instance, if image is in unit of MJy,
the img_unit can be set to be “Jy” and img_scale is set to be 1e+6. This input is only relevant if the input images are not among the default list of recognized images
in piXedfit. The format of this input should be in python dictionary.</p></li>
<li><p><strong>flag_psfmatch</strong> – Flag stating whether the multiband imaging data have been PSF-matched or not. The options are: (1) 0 means hasn’t been PSF-matched, and (2)1 means has been PSF-matched.</p></li>
<li><p><strong>flag_reproject</strong> – Flag stating whether the multiband imaging data have been spatially-resampled and matched in the projection. The options are: (1)0 means not yet, and (2)1 means has been carried out.</p></li>
<li><p><strong>flag_crop</strong> – Flag stating whether the multiband imaging data have been cropped around the target galaxy. The options are: (1)0 means not yet, and (2)1 means has been cropped.
If flag_crop=0, cropping will be done according to the input stamp_size. If flag_crop=1, cropping will not be done.</p></li>
<li><p><strong>img_pixsizes</strong> – (optional)
Pixel sizes (in arcsecond) of the input imaging data. This input should be in dictionary format.
If not provided, pixel size will be calculated based on the WCS information in the header of the FITS file.</p></li>
<li><p><strong>kernels</strong> – (optional)
Dictionary containing names of FITS files for the kernels to be used for the PSF matching process.
If None, internal convolution kernels in <strong>piXedfit</strong> will be used, given that the imaging data is recognized by piXedfit.
Otherwise, input kernels should be supplied.
If external kerenels avaiable, the input should be in dictionary format like the input sci_img,
but the number of element should be Nb-1, where Nb is the number of photometric bands.</p></li>
<li><p><strong>gal_z</strong> – Galaxy’s redshift. This is not used in any calculation during the image processing and calculating fluxes maps
But only intended to be saved in the heder of the produced FITS file.</p></li>
<li><p><strong>stamp_size</strong> – (default: [101,101])
Desired size for the reduced maps of multiband fluxes. This is a list data type with 2 elements. Accepted struture is: [dim_y,dim_x]. Only relevant if flag_crop=0.</p></li>
<li><p><strong>remove_files</strong> – (default: True)
If True, the unnecessary image files produced during the image processing will be removed. This can save disk space.
If False, those files will not be removed.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="piXedfit.piXedfit_images.images_processing.flux_map">
<code class="sig-name descname">flux_map</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">output_stamps</span></em>, <em class="sig-param"><span class="n">gal_region</span></em>, <em class="sig-param"><span class="n">Gal_EBV</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scale_unit</span><span class="o">=</span><span class="default_value">1e-17</span></em>, <em class="sig-param"><span class="n">mag_zp_2mass</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">unit_spire</span><span class="o">=</span><span class="default_value">'Jy_per_beam'</span></em>, <em class="sig-param"><span class="n">name_out_fits</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.images_processing.flux_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for calculating maps of multiband fluxes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_stamps</strong> – Dictionary containing reduced multiband images produced by the <a class="reference internal" href="#piXedfit.piXedfit_images.images_processing.reduced_stamps" title="piXedfit.piXedfit_images.images_processing.reduced_stamps"><code class="xref py py-func docutils literal notranslate"><span class="pre">reduced_stamps()</span></code></a> function.</p></li>
<li><p><strong>gal_region</strong> – 2D array containing the galaxy’s region of interest. The vlues should be 0 for masked region and 1 for the galaxy’s region of interest.
It can be taken from the output of the <a class="reference internal" href="#piXedfit.piXedfit_images.images_processing.galaxy_region" title="piXedfit.piXedfit_images.images_processing.galaxy_region"><code class="xref py py-func docutils literal notranslate"><span class="pre">galaxy_region()</span></code></a> function. But, user can also defined its own.</p></li>
<li><p><strong>Gal_EBV</strong> – (float, optional, default:None)
The E(B-V) dust attenuation due to the foreground Galactic dust. This is optional parameter.</p></li>
<li><p><strong>scale_unit</strong> – (float, optional, defult: 1.0e-17)
Normalized unit for the fluxes in the output fits file. The unit is flux density in erg/s/cm^2/Ang.</p></li>
<li><p><strong>mag_zp_2mass</strong> – (float array_like, optional, default: [])
Magnitude zero-points of 2MASS images. Sshoud be in 1D array with three elements: [magzp-j,magzp-h,magzp-k]. This is optional parameter.
If not given (i.e. [] or empty), the values will be taken from the FITS header information.</p></li>
<li><p><strong>unit_spire</strong> – (string, optional, default: ‘Jy_per_beam’)
Unit of SPIRE images, in case Herschel/SPIRE image is included in the analysis. Options are: [‘Jy_per_beam’, ‘MJy_per_sr’, ‘Jy_per_pixel’]</p></li>
<li><p><strong>name_out_fits</strong> – (string, optional, default: None)
Desired name for the output FITS file. If None, a generic name will be used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piXedfit.piXedfit_images.images_processing.galaxy_region">
<code class="sig-name descname">galaxy_region</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">segm_maps</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">use_ellipse</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">x_cent</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_cent</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ell</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">pa</span><span class="o">=</span><span class="default_value">45.0</span></em>, <em class="sig-param"><span class="n">radius_sma</span><span class="o">=</span><span class="default_value">30.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.images_processing.galaxy_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Define galaxy’s region of interest for further analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>segm_maps</strong> – (list of string, optional, default: [])
Input segmentation maps in a list format. If the galaxy’s region is to be defined based
on segmentation maps obtained with SEP, this input argument is required.</p></li>
<li><p><strong>use_ellipse</strong> – (boolean, optional, default: False)
Alternative of defining galaxy’s region using elliptical aperture centered at the target galaxy.
Set use_ellipse=True if you want to use this option.</p></li>
<li><p><strong>x_cent</strong> – (float, optional, default: None)
x coordinate of the ellipse center. If x_cent=None, the ellipse center is assumed
to be the same as the image center.</p></li>
<li><p><strong>y_cent</strong> – (float, optional, default: None)
y coordinate of the ellipse center. If y_cent=None, the ellipse center is assumed
to be the same as the image center.</p></li>
<li><p><strong>ell</strong> – (float, optional, default: 0.0)
Ellipticity of the elliptical aperture.</p></li>
<li><p><strong>pa</strong> – (float, optional, default: 45.0)
Position angle of the elliptical aperture.</p></li>
<li><p><strong>radius_sma</strong> – (float, optional, default: 30.0)
Radal distance along the semi-major axis of the elliptical aperture. This radius is in pixel unit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns gal_region</dt>
<dd class="field-even"><p>(2D array)
Output galaxy’s region of interest.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piXedfit.piXedfit_images.images_processing.reduced_stamps">
<code class="sig-name descname">reduced_stamps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.images_processing.reduced_stamps" title="Permalink to this definition">¶</a></dt>
<dd><p>Function within the Class that runs the image processing that includes PSF matching,
spatial resampling and reprojection, and cropping around the target galaxy.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns output_stamps</dt>
<dd class="field-odd"><p>Dictionary containing name of postage stamps of reduced multiband images.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piXedfit.piXedfit_images.images_processing.segmentation_sep">
<code class="sig-name descname">segmentation_sep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">output_stamps</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">1.5</span></em>, <em class="sig-param"><span class="n">minarea</span><span class="o">=</span><span class="default_value">30</span></em>, <em class="sig-param"><span class="n">deblend_nthresh</span><span class="o">=</span><span class="default_value">32</span></em>, <em class="sig-param"><span class="n">deblend_cont</span><span class="o">=</span><span class="default_value">0.005</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.images_processing.segmentation_sep" title="Permalink to this definition">¶</a></dt>
<dd><p>Get segmentation maps of a galaxy in multiple bands using the SEP (a Python version of the SExtractor).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_stamps</strong> – output_stamps output from the <a class="reference internal" href="#piXedfit.piXedfit_images.images_processing.reduced_stamps" title="piXedfit.piXedfit_images.images_processing.reduced_stamps"><code class="xref py py-func docutils literal notranslate"><span class="pre">reduced_stamps()</span></code></a> method.</p></li>
<li><p><strong>thresh</strong> – (float, optional, default: 1.5)
Detection threshold for the sources detection. If variance image is supplied, the threshold value for a given pixel is
interpreted as a multiplicative factor of the uncertainty (i.e. square root of the variance) on that pixel.
If var=None, the threshold is taken to be 2.5 percentile of the pixel values in the image.</p></li>
<li><p><strong>minarea</strong> – (float, optional, default: 5)
Minimum number of pixels (above threshold) required for a detected object.</p></li>
<li><p><strong>deblend_nthresh</strong> – (optional, default: 32)
The same as deblend_nthresh parameter in the SEP.</p></li>
<li><p><strong>deblend_cont</strong> – (float, optional, default: 0.005)
The same as deblend_cont parameter in the SEP.</p></li>
</ul>
</dd>
<dt class="field-even">Returns segm_maps</dt>
<dd class="field-even"><p>Output segmentation maps.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="piXedfit.piXedfit_images.kpc_per_pixel">
<code class="sig-prename descclassname">piXedfit.piXedfit_images.</code><code class="sig-name descname">kpc_per_pixel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">z</span><span class="o">=</span><span class="default_value">0.01</span></em>, <em class="sig-param"><span class="n">arcsec_per_pix</span><span class="o">=</span><span class="default_value">1.5</span></em>, <em class="sig-param"><span class="n">cosmo</span><span class="o">=</span><span class="default_value">'flat_LCDM'</span></em>, <em class="sig-param"><span class="n">H0</span><span class="o">=</span><span class="default_value">70.0</span></em>, <em class="sig-param"><span class="n">Om0</span><span class="o">=</span><span class="default_value">0.3</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.kpc_per_pixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for calculating a physical scale (in kpc) corresponding to a pixel size of an imaging data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z</strong> – (default: 0.01)
Redshift of the galaxy.</p></li>
<li><p><strong>arsec_per_pix</strong> – (default: 1.5)
Pixel size in arcsecond.</p></li>
<li><p><strong>cosmo</strong> – (default: ‘flat_LCDM’)
Choices for the cosmology. The options are: (1)’flat_LCDM’ or 0, (2)’WMAP5’ or 1, (3)’WMAP7’ or 2, (4)’WMAP9’ or 3, (5)’Planck13’ or 4, (6)’Planck15’ or 5, (7)’Planck18’ or 6.
These are similar to the choices available in the <a class="reference external" href="https://docs.astropy.org/en/stable/cosmology/#built-in-cosmologies">Astropy Cosmology</a> package.</p></li>
<li><p><strong>H0</strong> – (default: 70.0)
The Hubble constant at z=0. Only relevant when cosmo=’flat_LCDM’ is chosen.</p></li>
<li><p><strong>Om0</strong> – (default: 0.3)
The Omega matter at z=0.0. Only relevant when cosmo=’flat_LCDM’ is chosen.</p></li>
</ul>
</dd>
<dt class="field-even">Returns kpc_per_pix</dt>
<dd class="field-even"><p>corresponding physical scale in kpc unit of the given pixel size.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="piXedfit.piXedfit_images.subtract_background">
<code class="sig-prename descclassname">piXedfit.piXedfit_images.</code><code class="sig-name descname">subtract_background</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fits_image</span></em>, <em class="sig-param"><span class="n">hdu_idx</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">sigma</span><span class="o">=</span><span class="default_value">3.0</span></em>, <em class="sig-param"><span class="n">box_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mask_region</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">mask_sources</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">var</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">1.5</span></em>, <em class="sig-param"><span class="n">minarea</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">deblend_nthresh</span><span class="o">=</span><span class="default_value">32</span></em>, <em class="sig-param"><span class="n">deblend_cont</span><span class="o">=</span><span class="default_value">0.005</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.subtract_background" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for estimating 2D background and subtracting it from the input image. This function also produce RMS image.
This function adopts the Background2D function from the photutils package. To estimate 2D background,
the input image is gridded and sigma clipping is done to each bin/grid. Then 2D interpolation is performed to
construct 2D background image. A calculation in this function is based on the <a class="reference external" href="https://photutils.readthedocs.io/en/stable/api/photutils.background.Background2D.html#photutils.background.Background2D">Background2D</a>
of the photutils.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fits_image</strong> – Input image.</p></li>
<li><p><strong>hdu_idx</strong> – (int, optional, default: 0)
The FITS file extension where the image is stored. Default is 0 (HDU0).</p></li>
<li><p><strong>sigma</strong> – (float, optional, default: 3.0)
Sigma clipping threshold value.</p></li>
<li><p><strong>box_size</strong> – (int or array_like, optional, default: None)
The box size along each axis in the image gridding. The format is: [ny, nx]. If None, both axes will be divided into 10 grids.</p></li>
<li><p><strong>mask_region</strong> – (array_like, optional, default: [])
Region within the image that are going to be excluded.
mask_region should be 2D array with the same size as the input image.</p></li>
<li><p><strong>mask_sources</strong> – (array_like, default: True)
If True, source detection and segmentation will be performed with SEP (Pyhton version of SExtractor)
and the regions associated with the detected sources will be excluded. This help reducing contamination by astronomical sources.</p></li>
<li><p><strong>var</strong> – (optional, optional, default: None)
Variance image (in FITS file format) to be used in the sources detection process. This input argument is only relevant if mask_sources=True.</p></li>
<li><p><strong>thresh</strong> – (float, optional, default: 1.5)
Detection threshold for the sources detection. If variance image is supplied, the threshold value for a given pixel is
interpreted as a multiplicative factor of the uncertainty (i.e. square root of the variance) on that pixel.
If var=None, the threshold is taken to be 2.5 percentile of the pixel values in the image.</p></li>
<li><p><strong>minarea</strong> – (int, optional, default: 5)
Minimum number of pixels above threshold triggering detection.</p></li>
<li><p><strong>deblend_nthresh</strong> – (float, optional, default: 32)
The same as deblend_nthresh parameter in the SEP.</p></li>
<li><p><strong>deblend_cont</strong> – (float, optional, default: 0.005)
The same as deblend_cont parameter in the SEP.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="piXedfit.piXedfit_images.var_img_2MASS">
<code class="sig-prename descclassname">piXedfit.piXedfit_images.</code><code class="sig-name descname">var_img_2MASS</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sci_img</span></em>, <em class="sig-param"><span class="n">skyrms_img</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">skyrms_img_data</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">skyrms_value</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name_out_fits</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.var_img_2MASS" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for deriving a variance image from a 2MASS image.
The estimation of uncertainty is based on information from the <a class="reference external" href="http://wise2.ipac.caltech.edu/staff/jarrett/2mass/3chan/noise/#coadd">2MASS website</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sci_img</strong> – Input science image (i.e., background subtracted).</p></li>
<li><p><strong>skyrms_img</strong> – FITS file of the RMS background image. If skyrms_img_data==[] or skyrms_value==None,
this parameter should be provided. The background subtraction and calculation of RMS image can be done using
the <a class="reference internal" href="#piXedfit.piXedfit_images.subtract_background" title="piXedfit.piXedfit_images.subtract_background"><code class="xref py py-func docutils literal notranslate"><span class="pre">subtract_background()</span></code></a> function.</p></li>
<li><p><strong>skyrms_img_data</strong> – 2D array of the RMS background image.</p></li>
<li><p><strong>skyrms_value</strong> – Scalar value of median or mean of the RMS background image.
If the 2D data of RMS is not provided, this value will be used.</p></li>
<li><p><strong>name_out_fits</strong> – (optional, default: None)
Desired name for the output FITS file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="piXedfit.piXedfit_images.var_img_GALEX">
<code class="sig-prename descclassname">piXedfit.piXedfit_images.</code><code class="sig-name descname">var_img_GALEX</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sci_img</span></em>, <em class="sig-param"><span class="n">skybg_img</span></em>, <em class="sig-param"><span class="n">filter_name</span></em>, <em class="sig-param"><span class="n">name_out_fits</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.var_img_GALEX" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for calculating variance image from an input GALEX image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sci_img</strong> – Input GALEX science image (i.e., background subtracted).
This type of image is provided in the GALEX website as indicated with “-intbgsub” (i.e., background subtracted intensity map).</p></li>
<li><p><strong>skybg_img</strong> – Input sky background image .</p></li>
<li><p><strong>filter_name</strong> – A string of filter name. Options are: ‘galex_fuv’ and ‘galex_nuv’.</p></li>
<li><p><strong>name_out_fits</strong> – (optional, default: None)
Desired name for the output variance image. If None, a generic name will be used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="piXedfit.piXedfit_images.var_img_WISE">
<code class="sig-prename descclassname">piXedfit.piXedfit_images.</code><code class="sig-name descname">var_img_WISE</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sci_img</span></em>, <em class="sig-param"><span class="n">unc_img</span></em>, <em class="sig-param"><span class="n">filter_name</span></em>, <em class="sig-param"><span class="n">skyrms_img</span></em>, <em class="sig-param"><span class="n">name_out_fits</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.var_img_WISE" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for constructing variance image from an input WISE image.
The uncertainty estimation is based on information from the <a class="reference external" href="http://wise2.ipac.caltech.edu/docs/release/allsky/expsup/sec2_3f.html">WISE website</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sci_img</strong> – Input science image (i.e., background subtracted).</p></li>
<li><p><strong>unc_img</strong> – Input uncertainty image. This type of image is provided in the
<a class="reference external" href="https://irsa.ipac.caltech.edu/applications/wise/">IRSA website</a> and indicated with ‘-unc-‘ keyword.</p></li>
<li><p><strong>filter_name</strong> – A string of filter name. Options are: ‘wise_w1’, ‘wise_w2’, ‘wise_w3’, and ‘wise_w4’</p></li>
<li><p><strong>skyrms_img</strong> – Input RMS background image. This image is produced in the background subtraction with the <a class="reference internal" href="#piXedfit.piXedfit_images.subtract_background" title="piXedfit.piXedfit_images.subtract_background"><code class="xref py py-func docutils literal notranslate"><span class="pre">subtract_background()</span></code></a> function.</p></li>
<li><p><strong>name_out_fits</strong> – (optional, default: None)
Desired name for the output FITS file. If None, a generic name will be made.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="piXedfit.piXedfit_images.var_img_from_unc_img">
<code class="sig-prename descclassname">piXedfit.piXedfit_images.</code><code class="sig-name descname">var_img_from_unc_img</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unc_image</span></em>, <em class="sig-param"><span class="n">name_out_fits</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.var_img_from_unc_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for constructing a variance image from an input of uncertainty image.
This function simply takes square of the uncertainty image and store it into a FITS file while retaining the
header information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unc_img</strong> – Input uncertainty image.</p></li>
<li><p><strong>name_out_fits</strong> – (optional, default: None)
Name of output FITS file. If None, a generic name will be generated.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="piXedfit.piXedfit_images.var_img_from_weight_img">
<code class="sig-prename descclassname">piXedfit.piXedfit_images.</code><code class="sig-name descname">var_img_from_weight_img</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wht_image</span></em>, <em class="sig-param"><span class="n">name_out_fits</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.var_img_from_weight_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for constructing a variance image from an input weight (i.e., inverse variance) image.
This funciton will simply take inverse of the weight image and store it into a new FITS file while
retaining the header information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wht_image</strong> – Input of weight image (i.e., inverse variance).</p>
</dd>
<dt class="field-even">Returns name_out_fits</dt>
<dd class="field-even"><p>(optional, default: None)
Name of output FITS file. If None, a generic name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="piXedfit.piXedfit_images.var_img_sdss">
<code class="sig-prename descclassname">piXedfit.piXedfit_images.</code><code class="sig-name descname">var_img_sdss</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fits_image</span></em>, <em class="sig-param"><span class="n">filter_name</span></em>, <em class="sig-param"><span class="n">name_out_fits</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#piXedfit.piXedfit_images.var_img_sdss" title="Permalink to this definition">¶</a></dt>
<dd><p>A function for constructing a variance image of SDSS image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fits_image</strong> – Input SDSS image (corrected frame type).</p></li>
<li><p><strong>filter_name</strong> – A string of filter name. Options are: ‘sdss_u’, ‘sdss_g’, ‘sdss_r’, ‘sdss_i’, and ‘sdss_z’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns name_out_fits</dt>
<dd class="field-even"><p>(optional, default: None)
Name of output FITS file. If None, a generic name will be used.</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="piXedfit_spectrophotometric.html" class="btn btn-neutral float-right" title="piXedfit_spectrophotometric" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="demos_sed_fitting.html" class="btn btn-neutral float-left" title="SED fitting" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Abdurro&#39;uf

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>