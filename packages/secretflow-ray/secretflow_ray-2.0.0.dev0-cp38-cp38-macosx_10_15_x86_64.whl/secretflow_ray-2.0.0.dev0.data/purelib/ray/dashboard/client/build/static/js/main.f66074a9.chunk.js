(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{114:function(e,t,a){e.exports=a.p+"static/media/logo.40991779.svg"},115:function(e,t,a){"use strict";a.r(t),a.d(t,"brpcLinkChanger",(function(){return Y})),a.d(t,"NodeCard",(function(){return V})),a.d(t,"SortButton",(function(){return _}));var n=a(13),r=a(8),c=a(170),o=a(93),i=a(171),l=a(126),u=a(240),s=a(241),m=a(226),d=a(227),p=a(228),f=a(229),b=a(230),g=a(231),E=a(232),h=a(92),v=a(242),O=a(91),j=a(223),y=a(224),S=a(236),w=a(83),x=a.n(w),k=a(0),N=a.n(k),P=a(40),C=a(64),I=a(33),M=a(55),T=a(99),z=a(35),D=a(52),L=a(17),R=a(45),B=a(12),F=a(27),U=a.n(F),A=a(41),K=a(14),G=a(39),H=a(68),J=a(97),W=Object(O.a)((function(e){return{root:{padding:e.spacing(2),width:"100%",position:"relative"},fullGrid:{width:"100%"}}})),Y=function(e){var t=window.location,a=t.pathname.split("/");if(a.some((function(e){return e.split(".").length>1}))){var n=a.findIndex((function(e){return e.includes(".")})),r=a.slice(0,n);return e.includes("://")?r.push(e.split("://").pop()||""):r.push(e),"".concat(t.protocol,"//").concat(t.host).concat(r.join("/"))}return e.startsWith("http")?e:"http://".concat(e)},V=function(e){var t=e.node;if(!t)return null;var a=t.raylet,n=t.hostname,u=t.ip,s=t.cpu,m=t.cpuPercent,d=t.mem,p=t.net,f=t.disk,b=t.slsUrl,g=t.logUrl,E=t.cpuCount,h=t.cpuTimesPercent,v=a.nodeId,O=a.state,j=a.brpcPort,y=s||m||0;return N.a.createElement(c.a,{variant:"outlined",style:{padding:"12px 12px",margin:12}},N.a.createElement("p",{style:{fontWeight:"bold",fontSize:12,textDecoration:"none"}},N.a.createElement(P.b,{to:"node/".concat(v)},v)," "),N.a.createElement("p",null,N.a.createElement(o.a,{container:!0,spacing:1},N.a.createElement(o.a,{item:!0},N.a.createElement(z.a,{type:"node",status:O})),N.a.createElement(o.a,{item:!0},n,"(",u,")"),p&&p[0]>=0&&N.a.createElement(o.a,{item:!0},N.a.createElement("span",{style:{fontWeight:"bold"}},"Sent")," ",Object(L.a)(p[0]),"/s"," ",N.a.createElement("span",{style:{fontWeight:"bold"}},"Received")," ",Object(L.a)(p[1]),"/s"))),N.a.createElement(o.a,{container:!0,spacing:1,alignItems:"baseline"},y>=0&&N.a.createElement(o.a,{item:!0,xs:!0},"CPU",N.a.createElement(i.a,{arrow:!0,interactive:!0,title:N.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}},"CPU Count(Logic/Physic): ".concat(null==E?void 0:E.join("/"),"\n\n---CPU Times---\n\n").concat(Object.entries(h||{}).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return"".concat(a,": \t").concat(n,"%")})).join("\n")))},N.a.createElement("div",null,N.a.createElement(I.a,{num:Number(y||m),total:100},y||m,"%")))),d&&N.a.createElement(o.a,{item:!0,xs:!0},"Memory",N.a.createElement(i.a,{title:"Used(".concat(Object(L.a)(d.used),") = Total(").concat(Object(L.a)(d.total),") - Available(").concat(Object(L.a)(d.available),") - Cached(").concat(Object(L.a)(d.cached),") - Buffers(").concat(Object(L.a)(d.buffers),")"),arrow:!0},N.a.createElement("div",null,N.a.createElement(I.a,{num:d.total-d.available-(d.cached||0)-(d.buffers||0),total:d.total},Object(L.a)(d.total-d.available-(d.cached||0)-(d.buffers||0)),"/",Object(L.a)(d.total),"(",((d.total-d.available-(d.cached||0)-(d.buffers||0))/d.total*100).toFixed(2),"%)")))),f&&f["/"]&&N.a.createElement(o.a,{item:!0,xs:!0},"Disk('/')",N.a.createElement(I.a,{num:Number(f["/"].used),total:f["/"].total},Object(L.a)(f["/"].used),"/",Object(L.a)(f["/"].total),"(",f["/"].percent,"%)"))),N.a.createElement(o.a,{container:!0,justify:"flex-end",spacing:1,style:{margin:8}},Object.entries(b||{}).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return N.a.createElement(o.a,null,N.a.createElement(l.a,{href:n,target:"_blank",rel:"noopener noreferrer"},a,".log"))})),N.a.createElement(o.a,null,N.a.createElement(l.a,{target:"_blank",rel:"noopener noreferrer",href:Y("".concat(u,":").concat(a.brpcPort))},"BRPC ",j)),N.a.createElement(o.a,null,N.a.createElement(l.a,null,N.a.createElement(P.b,{to:"/log/".concat(encodeURIComponent(g))},"log")))))},_=function(e){var t=e.target,a=e.title,n=e.sorterKey,r=e.desc,c=e.setSortKey,o=e.setOrderDesc,i=t===n;return N.a.createElement(u.a,{size:"small",onClick:function(){i?r?(o(!1),c("")):o(!0):(o(!1),c(t))},label:a,icon:i?r?N.a.createElement(y.a,null):N.a.createElement(j.a,null):void 0,color:i?"primary":"default"})};t.default=function(){var e=W(),t=function(){var e=Object(k.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(k.useState)("Loading the nodes infos..."),i=Object(r.a)(o,2),l=i[0],u=i[1],s=Object(k.useState)(!0),m=Object(r.a)(s,2),d=m[0],p=m[1],f=Object(k.useState)("table"),b=Object(r.a)(f,2),g=b[0],E=b[1],h=Object(k.useState)([]),v=Object(r.a)(h,2),O=v[0],j=v[1],y=Object(k.useState)({pageSize:10,pageNo:1}),S=Object(r.a)(y,2),w=S[0],x=S[1],N=Object(J.c)("state"),P=N.sorterFunc,C=N.setOrderDesc,I=N.setSortKey,M=N.sorterKey,T=N.desc,z=Object(k.useRef)(),D=Object(k.useCallback)(Object(A.a)(U.a.mark((function e(){var t,a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(H.b)();case 4:t=e.sent,a=t.data,n=a.data,r=a.msg,c(n.summary||[]),u(r||""),z.current=setTimeout(D,4e3);case 10:case"end":return e.stop()}}),e)}))),[d]);return Object(k.useEffect)((function(){return D(),function(){z.current&&clearTimeout(z.current)}}),[D]),{nodeList:a.map((function(e){return Object(K.a)(Object(K.a)({},e),{},{state:e.raylet.state})})).sort((function(e,t){return e.raylet.nodeId>t.raylet.nodeId?1:-1})).sort(P).filter((function(e){return O.every((function(t){return String(Object(G.get)(e,t.key,"")).includes(t.val)}))})),msg:l,isRefreshing:d,onSwitchChange:function(e){p(e.target.checked)},changeFilter:function(e,t){var a=O.find((function(t){return t.key===e}));a?a.val=t:O.push({key:e,val:t}),j(Object(n.a)(O)),x(Object(K.a)(Object(K.a)({},w),{},{pageNo:1}))},page:w,originalNodes:a,setPage:function(e,t){return x(Object(K.a)(Object(K.a)({},w),{},Object(B.a)({},e,t)))},sorterKey:M,setSortKey:I,setOrderDesc:C,mode:g,setMode:E,desc:T}}(),a=t.msg,c=t.isRefreshing,u=t.onSwitchChange,O=t.nodeList,j=t.changeFilter,y=t.page,w=t.setPage,F=t.setSortKey,X=t.setOrderDesc,q=t.mode,Q=t.setMode,Z={sorterKey:t.sorterKey,setSortKey:F,desc:t.desc,setOrderDesc:X};return N.a.createElement("div",{className:e.root},N.a.createElement(R.b,{title:"Nodes List"}),N.a.createElement(C.a,{loading:a.startsWith("Loading")}),N.a.createElement(D.a,{title:N.a.createElement(o.a,{container:!0},N.a.createElement(o.a,{item:!0},"NODES"),N.a.createElement(o.a,{item:!0},N.a.createElement(i.a,{title:"Auto Refresh",placement:"right"},N.a.createElement(s.a,{size:"small",checked:c,onChange:u,name:"refresh",inputProps:{"aria-label":"secondary checkbox"}}))),N.a.createElement(o.a,{item:!0},N.a.createElement(T.a,{type:"node",list:O})))},a),N.a.createElement(D.a,{title:N.a.createElement("div",null,"List"," ",N.a.createElement(m.a,{size:"small"},N.a.createElement(l.a,{onClick:function(){return Q("table")},color:"table"===q?"primary":"default"},"Table"),N.a.createElement(l.a,{onClick:function(){return Q("card")},color:"card"===q?"primary":"default"},"Card")))},"table"===q&&N.a.createElement(d.a,{style:{overflowX:"initial"}},N.a.createElement(p.a,{size:"small"},N.a.createElement(f.a,null,N.a.createElement(b.a,null,N.a.createElement(g.a,{align:"center"},N.a.createElement(M.b,{label:"State",onChange:function(e){return j("state",e.trim())},options:["ALIVE","DEAD"]})),N.a.createElement(g.a,{align:"center"},N.a.createElement(M.a,{disableIcon:!0,label:"Id",onChange:function(e){return j("raylet.nodeId",e.trim())}})),N.a.createElement(g.a,{align:"center"},N.a.createElement(M.a,{label:"Host",onChange:function(e){return j("hostname",e.trim())}})),N.a.createElement(g.a,{align:"center"},N.a.createElement(M.a,{label:"IP",onChange:function(e){return j("ip",e.trim())}})),N.a.createElement(g.a,{align:"center"},"Resource Usage",N.a.createElement("br",null),N.a.createElement(_,Object.assign({},Z,{title:"CPU",target:"cpuPercent"}))," ",N.a.createElement(_,Object.assign({},Z,{title:"Memory",target:"mem.percent"}))," ",N.a.createElement(_,Object.assign({},Z,{title:"Disk",target:"disk./.used"}))),N.a.createElement(g.a,{align:"center"},"IO",N.a.createElement("br",null),N.a.createElement(_,Object.assign({},Z,{title:"Sent",target:"net[0]"}))," ",N.a.createElement(_,Object.assign({},Z,{title:"Received",target:"net[1]"}))),N.a.createElement(g.a,{align:"center"},"Time",N.a.createElement("br",null),N.a.createElement(_,Object.assign({},Z,{title:"StartTime",target:"raylet.startTime"}))),N.a.createElement(g.a,{align:"center"},"Links"))),N.a.createElement(E.a,null,O.slice((y.pageNo-1)*y.pageSize,y.pageNo*y.pageSize).map((function(t,a){var c=t.hostname,l=void 0===c?"":c,u=t.ip,s=void 0===u?"":u,m=t.cpu,d=t.cpuPercent,p=t.cpuCount,f=t.cpuTimesPercent,E=t.mem,v=void 0===E?{active:0,available:0,buffers:0,cached:0,free:0,inactive:0,percent:0,shared:0,slab:0,total:0,used:0}:E,O=t.disk,j=t.net,y=void 0===j?[0,0]:j,S=t.raylet,w=t.logUrl,k=t.slsUrl;return N.a.createElement(b.a,{key:l+a},N.a.createElement(g.a,null,N.a.createElement(z.a,{type:"node",status:S.state})),N.a.createElement(g.a,{align:"center"},N.a.createElement(i.a,{title:S.nodeId,arrow:!0,interactive:!0},N.a.createElement(P.b,{to:"/node/".concat(S.nodeId)},S.nodeId.slice(0,5)))),N.a.createElement(g.a,{align:"center"},l),N.a.createElement(g.a,{align:"center"},s),N.a.createElement(g.a,null,N.a.createElement(o.a,{container:!0,spacing:2,direction:"row"},N.a.createElement(o.a,{className:e.fullGrid,item:!0},N.a.createElement(i.a,{arrow:!0,interactive:!0,title:N.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}},"CPU Count(Logic/Physic): ".concat(null==p?void 0:p.join("/"),"\n\n---CPU Times---\n\n").concat(Object.entries(f||{}).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return"".concat(a,": \t").concat(n,"%")})).join("\n")))},N.a.createElement("div",null,N.a.createElement(I.a,{num:Number(m||d),total:100},"CPU: ",m||d,"%")))),N.a.createElement(o.a,{className:e.fullGrid,item:!0},N.a.createElement(i.a,{title:N.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}},"".concat(Object.entries(v).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return"".concat(a,": ").concat(Object(L.a)(n))})).join("\n"))),arrow:!0,interactive:!0},N.a.createElement("div",null,N.a.createElement(I.a,{num:v.used,total:v.total},"Memory: ",Object(L.a)(v.used),"/",Object(L.a)(v.total),"(",(v.used/v.total*100).toFixed(2),"%)")))),N.a.createElement(o.a,{className:e.fullGrid,item:!0},N.a.createElement(i.a,{title:N.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}},Object.entries(O||{}).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return"".concat(a,": ").concat(Object(L.a)(n.used),"/").concat(Object(L.a)(n.total),"(").concat(n.percent,"%)")})).join("\n"))},N.a.createElement("div",null,O&&O["/"]&&N.a.createElement(I.a,{num:Number(O["/"].used),total:O["/"].total},"Disk('/'):"," ",Object(L.a)(O["/"].used),"/",Object(L.a)(O["/"].total),"(",O["/"].percent,"%)")))))),N.a.createElement(g.a,{align:"center"},N.a.createElement(o.a,{container:!0,spacing:1,direction:"row",justify:"center"},N.a.createElement(o.a,{item:!0},N.a.createElement(z.a,{type:"",status:"Sent"})),N.a.createElement(o.a,{item:!0},Object(L.a)(y[0]),"/s"),N.a.createElement(o.a,{item:!0},N.a.createElement(z.a,{type:"",status:"Received"})),N.a.createElement(o.a,{item:!0},Object(L.a)(y[1]),"/s"))),N.a.createElement(g.a,{align:"center"},!!S.startTime&&N.a.createElement("p",null,"Start Time:"," ",x()(1e3*S.startTime).format("YYYY/MM/DD HH:mm:ss")),!!S.terminateTime&&N.a.createElement("p",null,"End Time:"," ",x()(1e3*S.terminateTime).format("YYYY/MM/DD HH:mm:ss"))),N.a.createElement(g.a,null,N.a.createElement(R.a,{name:"Link List",list:[N.a.createElement(h.a,null,N.a.createElement(P.b,{to:"/log/".concat(encodeURIComponent(w))},"Node Log Index"))].concat(Object(n.a)(Object(R.e)(k).map((function(e){return N.a.createElement(h.a,null,e)}))),[S.brpcPort&&N.a.createElement(h.a,null,N.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:Y("".concat(s,":").concat(S.brpcPort))},"BRPC ",S.brpcPort))])})))}))),N.a.createElement(v.a,{count:O.length,page:y.pageNo-1,rowsPerPage:y.pageSize,onChangePage:function(e,t){return w("pageNo",t+1)},onChangeRowsPerPage:function(e){var t=e.target.value;return w("pageSize",Number(t))}}))),"card"===q&&N.a.createElement(N.a.Fragment,null,N.a.createElement("div",null,N.a.createElement(S.a,{count:Math.ceil(O.length/y.pageSize),page:y.pageNo,onChange:function(e,t){return w("pageNo",t)}})),N.a.createElement(o.a,{container:!0},O.slice((y.pageNo-1)*y.pageSize,y.pageNo*y.pageSize).map((function(e){return N.a.createElement(o.a,{item:!0,xs:6},N.a.createElement(V,{node:e}))}))))))}},139:function(e,t,a){e.exports=a(140)},140:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),i=a(96);o.a.render(r.a.createElement(i.b,null),document.getElementById("root"))},17:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return e<1024?"".concat(e,"KB"):e<Math.pow(1024,2)?"".concat((e/Math.pow(1024,1)).toFixed(1),"KB"):e<Math.pow(1024,3)?"".concat((e/Math.pow(1024,2)).toFixed(1),"MB"):e<Math.pow(1024,4)?"".concat((e/Math.pow(1024,3)).toFixed(1),"GB"):e<Math.pow(1024,5)?"".concat((e/Math.pow(1024,4)).toFixed(1),"TB"):e<Math.pow(1024,6)?"".concat((e/Math.pow(1024,5)).toFixed(1),"TB"):""}},33:function(e,t,a){"use strict";var n=a(91),r=a(0),c=a.n(r),o=Object(n.a)((function(e){return{container:{background:"linear-gradient(45deg, #21CBF3ee 30%, #2196F3ee 90%)",border:"1px solid #ffffffbb",padding:"0 12px",height:18,lineHeight:"18px",position:"relative",boxSizing:"content-box",borderRadius:4},displayBar:{background:e.palette.background.paper,position:"absolute",right:0,height:18,transition:"0.5s width",borderRadius:2,borderTopLeftRadius:0,borderBottomLeftRadius:0,border:"2px solid transparent",boxSizing:"border-box"},text:{fontSize:12,zIndex:2,position:"relative",color:e.palette.text.primary,width:"100%",textAlign:"center",whiteSpace:"nowrap",cursor:"default"}}}));t.a=function(e){var t=e.num,a=e.total,n=e.autoFit,r=o(),i=Math.round(t/a*100);return c.a.createElement("div",{className:r.container,style:n?{width:"100%"}:{}},c.a.createElement("div",{className:r.displayBar,style:{width:"".concat(Math.min(Math.max(0,100-i),100),"%")}}),c.a.createElement("div",{className:r.text},e.children))}},35:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n,r,c=a(12),o=a(82),i=a(79),l=a(81),u=a(220),s=a(78),m=a(221),d=a(222),p=a(0),f=a.n(p);!function(e){e.ALIVE="ALIVE",e.PENDING="PENDING",e.RECONSTRUCTING="RECONSTRUCTING",e.DEAD="DEAD"}(n||(n={}));var b={node:{ALIVE:o.a,DEAD:i.a},actor:(r={},Object(c.a)(r,n.ALIVE,o.a),Object(c.a)(r,n.DEAD,i.a),Object(c.a)(r,n.PENDING,l.a),Object(c.a)(r,n.RECONSTRUCTING,u.a),r),job:{INIT:s.a,SUBMITTED:l.a,DISPATCHED:u.a,RUNNING:o.a,COMPLETED:m.a,FINISHED:m.a,FAILED:i.a}},g={deps:l.a,INFO:m.a,ERROR:i.a},E=function(e){var t=e.type,a=e.status,n=e.suffix,r={padding:"2px 8px",border:"solid 1px",borderRadius:4,fontSize:12,margin:2},c=d.a;return g[t]?c=g[t]:"string"==typeof a&&b[t]&&b[t][a]&&(c=b[t][a]),r.color=c[500],r.borderColor=c[500],c!==d.a&&(r.backgroundColor="".concat(c[500],"20")),f.a.createElement("span",{style:r},a,n)}},45:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return f}));var n=a(8),r=a(171),c=a(126),o=a(89),i=a(0),l=a.n(i),u=a(117),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:28;return l.a.createElement(r.a,{title:e,interactive:!0},l.a.createElement("span",null,e.length>t?e.slice(0,t)+"...":e))},m=function(e){return"string"==typeof e?[l.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},"SLS")]:Object.entries(e||{}).map((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return l.a.createElement("a",{key:a,style:{marginRight:8},href:r,target:"_blank",rel:"noopener noreferrer"},a,"(SLS)")}))},d=function(e){var t={textAlign:"left",wordBreak:"break-all",whiteSpace:"pre-wrap"};if("object"==typeof e)return l.a.createElement("pre",{style:t},JSON.stringify(e,null,2));try{var a=JSON.parse(e);return"object"!=typeof a?JSON.stringify(a):l.a.createElement("pre",{style:t},JSON.stringify(a,null,2))}catch(t){return e}},p=function(e){var t=e.title;return l.a.createElement(u.a,null,l.a.createElement("title",null,t," - Ray Dashboard"))},f=function(e){var t=e.name,a=e.list,r=Object(i.useState)(null),u=Object(n.a)(r,2),s=u[0],m=u[1];return l.a.createElement("div",null,l.a.createElement(c.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)}},t),l.a.createElement(o.a,{anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:function(){m(null)}},a))}},52:function(e,t,a){"use strict";var n=a(91),r=a(170),c=a(0),o=a.n(c),i=Object(n.a)((function(e){return{card:{padding:e.spacing(2),paddingTop:e.spacing(1.5),margin:[e.spacing(2),e.spacing(1)].map((function(e){return"".concat(e,"px")})).join(" ")},title:{fontSize:e.typography.fontSize+2,fontWeight:500,color:e.palette.text.secondary,marginBottom:e.spacing(1)},body:{padding:e.spacing(.5)}}}));t.a=function(e){var t=e.title,a=e.children,n=i();return o.a.createElement(r.a,{className:n.card},o.a.createElement("div",{className:n.title},t),o.a.createElement("div",{className:n.body},a))}},55:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return d}));var n=a(91),r=a(127),c=a(175),o=a(92),i=a(177),l=a(0),u=a.n(l),s=Object(n.a)((function(e){return{search:{margin:e.spacing(1),marginTop:0}}})),m=function(e){var t=e.label,a=e.onChange,n=e.defaultValue,o=e.disableIcon,l=s();return u.a.createElement(r.a,{className:l.search,size:"small",label:t,InputProps:{onChange:function(e){var t=e.target.value;a&&a(t)},defaultValue:n,endAdornment:o?void 0:u.a.createElement(c.a,{position:"end"},u.a.createElement(i.a,null))}})},d=function(e){var t=e.label,a=e.onChange,n=e.options,c=s();return u.a.createElement(r.a,{className:c.search,size:"small",label:t,select:!0,SelectProps:{onChange:function(e){var t=e.target.value;a&&a(t)},style:{width:100}}},u.a.createElement(o.a,{value:""},"All"),n.map((function(e){return"string"==typeof e?u.a.createElement(o.a,{value:e},e):u.a.createElement(o.a,{value:e[0]},e[1])})))}},64:function(e,t,a){"use strict";var n=a(180),r=a(169),c=a(0),o=a.n(c);t.a=function(e){var t=e.loading,a=e.title,c=void 0===a?"loading":a;return o.a.createElement(n.a,{open:t,style:{zIndex:100,flexDirection:"column"}},o.a.createElement(r.a,{color:"primary"}),o.a.createElement("p",{style:{color:"rgba(255, 255, 255, 0.65)"}},c))}},66:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return l})),a.d(t,"f",(function(){return u})),a.d(t,"e",(function(){return s})),a.d(t,"a",(function(){return m}));var n=a(28),r=a.n(n),c=function(e,t){return r.a.get("utils/jstack",{params:{ip:e,pid:t}})},o=function(e,t){return r.a.get("utils/jmap",{params:{ip:e,pid:t}})},i=function(e,t,a){return r.a.get("utils/jstat",{params:{ip:e,pid:t,options:a}})},l=function(e,t){return r.a.get("utils/pystack",{params:{ip:e,pid:t}})},u=function(e,t){return r.a.get("utils/pstack",{params:{ip:e,pid:t}})},s=function(){return r.a.get("namespaces")},m=function(e,t,a){return r.a.get("utils/async-profiler",{params:{ip:e,pid:a,duration:t}})}},68:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return u}));var n=a(27),r=a.n(n),c=a(41),o=a(28),i=a.n(o),l=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("nodes?view=summary");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("nodes/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},96:function(e,t,a){"use strict";a.d(t,"a",(function(){return Q})),a.d(t,"c",(function(){return Z}));var n=a(8),r=a(235),c=a(234),o=a(0),i=a.n(o),l=a(122),u=a(40),s=a(16),m=a(27),d=a.n(m),p=a(41),f=a(91),b=a(218),g=a(126),E=a(170),h=a(64),v=a(33),O=a(52),j=a(66),y=a(45),S=a(115),w=Object(f.a)((function(e){return{root:{padding:e.spacing(4),width:"100%"},table:{marginTop:e.spacing(4),padding:e.spacing(2)},pageMeta:{padding:e.spacing(2),marginTop:e.spacing(2)},search:{margin:e.spacing(1)}}})),x=function(e){var t=e.match.params,a=t.pid,r=t.ip,c=Object(o.useState)(),l=Object(n.a)(c,2),u=l[0],s=l[1],m=Object(o.useState)(60),f=Object(n.a)(m,2),x=f[0],k=f[1],N=Object(o.useState)(!1),P=Object(n.a)(N,2),C=P[0],I=P[1],M=Object(o.useState)(0),T=Object(n.a)(M,2),z=T[0],D=T[1],L=Object(o.useState)(),R=Object(n.a)(L,2),B=R[0],F=R[1],U=w(),A=function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a<x)){e.next=5;break}D(a+1),setTimeout((function(){A(t,a+1)}),1e3),e.next=19;break;case 5:return e.prev=5,e.next=8,fetch(t);case 8:return n=e.sent,e.next=11,n.text();case 11:e.sent.startsWith("<?xml")?(I(!1),s(t)):(D(a+1),setTimeout((function(){A(t,a+1)}),1e3)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),I(!1),F("".concat(e.t0));case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t,a){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:U.root},i.a.createElement(y.b,{title:"Profiler for ".concat(r," on Process ").concat(a)}),i.a.createElement(O.a,{title:"Profiler"},i.a.createElement("div",null,"IP: ",r,", Pid: ",a,", Duration:"," ",i.a.createElement(b.a,{style:{width:54},value:x,renderSuffix:function(){return"s"},onChange:function(e){var t=e.target.value;k(Number(t))}})," "),i.a.createElement(g.a,{variant:"contained",onClick:function(){I(!0),F(void 0),Object(j.a)(r,x,Number(a)).then((function(e){var t,a,n,r;(null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.output)&&(D(0),A(Object(S.brpcLinkChanger)(null===(n=e.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.output),0))})).catch((function(){I(!1)}))}},"Run"),B&&i.a.createElement("p",null,"Error: ",B)),u&&i.a.createElement(E.a,null,i.a.createElement(g.a,{target:"_blank",href:u},"Open in new window"),i.a.createElement("iframe",{title:"fire-svg",style:{width:"100%",height:600,border:"none",marginTop:24},src:u,onError:function(e){return console.log(e)}})),i.a.createElement(h.a,{loading:C,title:i.a.createElement(v.a,{total:x,num:z},"Profiling ",z||"waiting to start","s ( Total ",x,"s )")}))},k=a(114),N=a.n(k),P=function(){return i.a.createElement("div",{style:{height:"100vh",width:"100vw"}},i.a.createElement("div",{style:{margin:"250px auto 0 auto",textAlign:"center",fontSize:40,fontWeight:500}},i.a.createElement("img",{src:N.a,alt:"Loading",width:100}),i.a.createElement("br",null),"Loading..."))},C=a(68),I=a(124),M=Object(I.a)({reducer:{},devTools:!1}),T=a(14),z=a(81),D=a(220),L=a(78),R=a(222),B=a(123),F={typography:{fontSize:12,fontFamily:"menlo, monospace"},props:{MuiPaper:{elevation:0}},overrides:{MuiCssBaseline:{"@global":{pre:{fontFamily:"menlo, monospace"},a:{color:z.a[500]}}}}},U=Object(B.a)(Object(T.a)(Object(T.a)({},F),{},{palette:{primary:z.a,secondary:D.a,text:{primary:L.a[900],secondary:L.a[800],disabled:L.a[400],hint:L.a[300]},background:{paper:"#fff",default:R.a[50]}}})),A=Object(B.a)(Object(T.a)(Object(T.a)({},F),{},{palette:{primary:z.a,secondary:D.a,text:{primary:R.a[50],secondary:R.a[100],disabled:R.a[200],hint:R.a[300]},background:{paper:L.a[800],default:L.a[900]}}})),K=i.a.lazy((function(){return Promise.all([a.e(1),a.e(0),a.e(4),a.e(13)]).then(a.bind(null,752))})),G=i.a.lazy((function(){return Promise.all([a.e(2),a.e(12)]).then(a.bind(null,729))})),H=i.a.lazy((function(){return Promise.all([a.e(1),a.e(2),a.e(10)]).then(a.bind(null,730))})),J=i.a.lazy((function(){return Promise.all([a.e(1),a.e(0),a.e(3),a.e(4),a.e(14)]).then(a.bind(null,744))})),W=i.a.lazy((function(){return a.e(16).then(a.bind(null,753))})),Y=i.a.lazy((function(){return Promise.all([a.e(1),a.e(0),a.e(2),a.e(3),a.e(8)]).then(a.bind(null,745))})),V=i.a.lazy((function(){return Promise.all([a.e(0),a.e(9),a.e(17)]).then(a.bind(null,754))})),_=i.a.lazy((function(){return Promise.all([a.e(2),a.e(11)]).then(a.bind(null,747))})),X=i.a.lazy((function(){return Promise.resolve().then(a.bind(null,115))})),q=i.a.lazy((function(){return Promise.all([a.e(1),a.e(0),a.e(3),a.e(4),a.e(15)]).then(a.bind(null,751))})),Q=i.a.createContext({nodeMap:{},ipLogMap:{},namespaceMap:{},nodeIpMap:{}}),Z=function(){return function(e){var t=window.localStorage.getItem(e);try{return JSON.parse(t||"")}catch(e){return t}}("ray-dashboard-theme")||"light"},$=function(e){return t="ray-dashboard-theme",a=e,window.localStorage.setItem(t,JSON.stringify(a));var t,a};t.b=function(){var e=Object(o.useState)(Z()),t=Object(n.a)(e,2),a=t[0],m=t[1],d=Object(o.useState)({nodeMap:{},ipLogMap:{},namespaceMap:{},nodeIpMap:{}}),p=Object(n.a)(d,2),f=p[0],b=p[1],g=function(e){$(e),m(e)};return Object(o.useEffect)((function(){Object(C.b)().then((function(e){var t,a;if(null==e||null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.summary){var n={},r={},c={};e.data.data.summary.forEach((function(e){var t=e.hostname,a=e.raylet,o=e.ip,i=e.logUrl;a.nodeId&&(n[t]=a.nodeId),c[t]=o,i&&(r[o]=i)})),Object(j.e)().then((function(e){var t,a,o={};(null==e||null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.namespaces)&&e.data.data.namespaces.forEach((function(e){var t=e.namespaceId;e.hostNameList.forEach((function(e){o[e]||(o[e]=[]),o[e].push(t)}))})),b({nodeMap:n,ipLogMap:r,namespaceMap:o,nodeIpMap:c})})).catch((function(){b({nodeMap:n,ipLogMap:r,namespaceMap:{},nodeIpMap:{}})}))}}))}),[]),i.a.createElement(c.a,{theme:function(e){switch(e){case"dark":return A;case"light":default:return U}}(a)},i.a.createElement(o.Suspense,{fallback:P},i.a.createElement(Q.Provider,{value:f},i.a.createElement(l.a,{store:M},i.a.createElement(r.a,null),i.a.createElement(u.a,null,i.a.createElement(s.c,null,i.a.createElement(s.a,{render:function(e){return i.a.createElement(V,Object.assign({},e,{setTheme:g,theme:a}),i.a.createElement(s.a,{component:J,exact:!0,path:"/"}),i.a.createElement(s.a,{component:W,exact:!0,path:"/job"}),i.a.createElement(s.a,{component:X,exact:!0,path:"/node"}),i.a.createElement(s.a,{component:H,exact:!0,path:"/event"}),i.a.createElement(s.a,{component:K,exact:!0,path:"/actors"}),i.a.createElement(s.a,{render:function(e){return i.a.createElement(_,Object.assign({},e,{theme:a}))},exact:!0,path:"/log/:host?/:path?"}),i.a.createElement(s.a,{component:q,path:"/node/:id"}),i.a.createElement(s.a,{component:Y,path:"/job/:id"}),i.a.createElement(s.a,{component:G,path:"/cmd/:cmd/:ip/:pid"}),i.a.createElement(s.a,{component:x,path:"/profiler/:ip/:pid"}),i.a.createElement(s.a,{component:P,exact:!0,path:"/loading"}))},path:"/"})))))))}},97:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return s}));var n=a(14),r=a(13),c=a(8),o=a(39),i=a(0),l=function(){var e=Object(i.useState)([]),t=Object(c.a)(e,2),a=t[0],n=t[1];return{changeFilter:function(e,t){var c=a.find((function(t){return t.key===e}));c?c.val=t:a.push({key:e,val:t}),n(Object(r.a)(a))},filterFunc:function(e){return a.every((function(t){return!t.val||Object(o.get)(e,t.key,"").toString().includes(t.val)}))}}},u=function(e){var t=Object(i.useState)(e||""),a=Object(c.a)(t,2),n=a[0],r=a[1],l=Object(i.useState)(!1),u=Object(c.a)(l,2),s=u[0];return{sorterFunc:function(e,t){if(!n)return 0;var a=e,r=t;return s&&(r=e,a=t),Object(o.get)(a,n)?Object(o.get)(r,n)?Object(o.get)(a,n)>Object(o.get)(r,n)?1:-1:1:-1},setSortKey:r,setOrderDesc:u[1],sorterKey:n,desc:s}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(Object(n.a)({page:1,pageSize:10,total:1},e)),a=Object(c.a)(t,2),r=a[0],o=a[1];return{page:r.page,pageSize:r.pageSize,startIndex:r.pageSize*(r.page-1),endIndex:r.pageSize*r.page,total:r.total,totalPage:Math.ceil(r.total/r.pageSize),setPage:function(e){return o(Object(n.a)(Object(n.a)({},r),{},{page:e}))},setTotal:function(e){return o(Object(n.a)(Object(n.a)({},r),{},{total:e}))},setPageSize:function(e){return o(Object(n.a)(Object(n.a)({},r),{},{pageSize:e}))}}}},99:function(e,t,a){"use strict";var n=a(8),r=a(93),c=a(0),o=a.n(c),i=a(35);t.a=function(e){var t=e.type,a=e.list,c={};return a.forEach((function(e){var t=e.state;c[t]=c[t]+1||1})),o.a.createElement(r.a,{container:!0,spacing:2,alignItems:"center"},o.a.createElement(r.a,{item:!0},o.a.createElement(i.a,{status:"TOTAL",type:t,suffix:"x ".concat(a.length)})),Object.entries(c).map((function(e){var a=Object(n.a)(e,2),c=a[0],l=a[1];return o.a.createElement(r.a,{item:!0},o.a.createElement(i.a,{status:c,type:t,suffix:" x ".concat(l)}))})))}}},[[139,6,7]]]);