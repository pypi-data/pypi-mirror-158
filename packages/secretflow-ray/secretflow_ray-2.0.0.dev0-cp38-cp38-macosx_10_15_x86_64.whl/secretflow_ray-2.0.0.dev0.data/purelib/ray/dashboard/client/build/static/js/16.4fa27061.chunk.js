(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[16],{321:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return l}));var n=a(28),r=a.n(n),c=function(){return r.a.get("jobs?view=summary")},i=function(e){return r.a.get("jobs/".concat(e))},l=function(e){return r.a.get("jobs/".concat(e,"?view=result"))}},753:function(e,t,a){"use strict";a.r(t);var n=a(93),r=a(171),c=a(241),i=a(227),l=a(228),u=a(229),o=a(230),s=a(231),m=a(232),g=a(91),b=a(236),f=a(83),p=a.n(f),E=a(0),d=a.n(E),h=a(40),j=a(64),v=a(55),O=a(99),y=a(35),S=a(52),k=a(45),w=a(12),N=a(27),C=a.n(N),J=a(41),L=a(14),z=a(13),I=a(8),D=a(321),A=Object(g.a)((function(e){return{root:{padding:e.spacing(2),width:"100%"}}})),P=["State","ID","Name","Owner","Languages","Driver Entry","Timestamp","Namespace"];t.default=function(){var e=A(),t=function(){var e=Object(E.useState)([]),t=Object(I.a)(e,2),a=t[0],n=t[1],r=Object(E.useState)({pageSize:10,pageNo:1}),c=Object(I.a)(r,2),i=c[0],l=c[1],u=Object(E.useState)("Loading the job list..."),o=Object(I.a)(u,2),s=o[0],m=o[1],g=Object(E.useState)(!0),b=Object(I.a)(g,2),f=b[0],p=b[1],d=Object(E.useState)([]),h=Object(I.a)(d,2),j=h[0],v=h[1],O=Object(E.useRef)(f),y=Object(E.useRef)();O.current=f;var S=Object(E.useCallback)(Object(J.a)(C.a.mark((function e(){var t,a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(D.b)();case 4:(null==(r=e.sent)||null===(t=r.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.summary)&&(n(r.data.data.summary.sort((function(e,t){return t.timestamp-e.timestamp}))),m(r.data.msg||"")),y.current=setTimeout(S,4e3);case 7:case"end":return e.stop()}}),e)}))),[]);return Object(E.useEffect)((function(){return S(),function(){y.current&&clearTimeout(y.current)}}),[S]),{jobList:a.filter((function(e){return j.every((function(t){return e[t.key]&&e[t.key].includes(t.val)}))})),msg:s,isRefreshing:f,onSwitchChange:function(e){p(e.target.checked)},changeFilter:function(e,t){var a=j.find((function(t){return t.key===e}));a?a.val=t:j.push({key:e,val:t}),v(Object(z.a)(j)),l(Object(L.a)(Object(L.a)({},i),{},{pageNo:1}))},page:i,originalJobs:a,setPage:function(e,t){return l(Object(L.a)(Object(L.a)({},i),{},Object(w.a)({},e,t)))}}}(),a=t.msg,g=t.isRefreshing,f=t.onSwitchChange,N=t.jobList,R=t.changeFilter,Y=t.page,x=t.setPage,M=t.originalJobs;return d.a.createElement("div",{className:e.root},d.a.createElement(k.b,{title:"Jobs List"}),d.a.createElement(j.a,{loading:a.startsWith("Loading")}),d.a.createElement(S.a,{title:d.a.createElement(n.a,{container:!0},d.a.createElement(n.a,{item:!0},"JOBS"),d.a.createElement(n.a,{item:!0},d.a.createElement(r.a,{title:"Auto Refresh",placement:"right"},d.a.createElement(c.a,{size:"small",checked:g,onChange:f,name:"refresh",inputProps:{"aria-label":"secondary checkbox"}}))),d.a.createElement(n.a,{item:!0},d.a.createElement(O.a,{list:N,type:"job"})))},a),d.a.createElement(S.a,{title:"Job List"},d.a.createElement(i.a,null,d.a.createElement(v.a,{label:"ID",onChange:function(e){return R("jobId",e)}}),d.a.createElement(v.a,{label:"Name",onChange:function(e){return R("name",e)}}),d.a.createElement(v.a,{label:"Driver Entry",onChange:function(e){return R("driverEntry",e)}}),d.a.createElement(v.b,{label:"Language",onChange:function(e){return R("language",e)},options:["JAVA","PYTHON"]}),d.a.createElement(v.b,{label:"State",onChange:function(e){return R("state",e)},options:Array.from(new Set(M.map((function(e){return e.state}))))}),d.a.createElement(v.b,{label:"Namespace",onChange:function(e){return R("namespaceId",e)},options:Array.from(new Set(M.map((function(e){return e.namespaceId}))))}),d.a.createElement(v.a,{label:"Page Size",onChange:function(e){return x("pageSize",Math.min(Number(e),500)||10)}}),d.a.createElement("div",null,d.a.createElement(b.a,{count:Math.ceil(N.length/Y.pageSize),page:Y.pageNo,onChange:function(e,t){return x("pageNo",t)}})),d.a.createElement(l.a,null,d.a.createElement(u.a,null,d.a.createElement(o.a,null,P.map((function(e){return d.a.createElement(s.a,{align:"center",key:e},e)})))),d.a.createElement(m.a,null,N.slice((Y.pageNo-1)*Y.pageSize,Y.pageNo*Y.pageSize).map((function(e){var t=e.jobId,a=void 0===t?"":t,n=e.name,r=void 0===n?"":n,c=e.owner,i=void 0===c?"":c,l=e.language,u=void 0===l?"":l,m=e.driverEntry,g=void 0===m?"":m,b=e.state,f=e.timestamp,E=e.namespaceId;return d.a.createElement(o.a,{key:a},d.a.createElement(s.a,{align:"center"},b&&d.a.createElement(y.a,{type:"job",status:b})),d.a.createElement(s.a,{align:"center"},d.a.createElement(h.b,{to:"/job/".concat(a)},a)),d.a.createElement(s.a,{align:"center"},r),d.a.createElement(s.a,{align:"center"},i),d.a.createElement(s.a,{align:"center"},u),d.a.createElement(s.a,{align:"center"},g),d.a.createElement(s.a,{align:"center"},p()(1e3*f).format("YYYY/MM/DD HH:mm:ss")),d.a.createElement(s.a,{align:"center"},E))})))))))}}}]);