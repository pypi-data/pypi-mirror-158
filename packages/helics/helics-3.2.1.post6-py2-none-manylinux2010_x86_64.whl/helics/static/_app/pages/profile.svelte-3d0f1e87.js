import{S as W,i as H,s as N,J as O,O as D,P as S,a as v,d as h,b as g,f as B,g as V,I as w,L as T,M as A,N as J,q as E,o as k,a0 as U,W as y,_ as F,w as j,x as C,y as L,B as P,E as Z,l as M,T as x,a1 as ee,e as I,k as te,c as z,m as ne,a2 as ae,X as se}from"../chunks/index-54fc4347.js";import{d as q}from"../chunks/stores-5f33ad81.js";import{L as le}from"../chunks/DataFlowGraph.svelte_svelte_type_style_lang-7bd972d7.js";import{D as oe}from"../chunks/Dropzone-54034584.js";import"../chunks/index-d178e912.js";const re=n=>({element:n&1}),R=n=>({element:n[0]}),ie=n=>({element:n&1}),X=n=>({element:n[0]});function fe(n){let e,a,t,s,o;const r=n[12].defs,i=O(r,n,n[11],X),_=n[12].default,f=O(_,n,n[11],R);return{c(){e=D("svg"),a=D("defs"),i&&i.c(),t=D("g"),f&&f.c(),this.h()},l(l){e=S(l,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var c=v(e);a=S(c,"defs",{});var u=v(a);i&&i.l(u),u.forEach(h),t=S(c,"g",{class:!0,transform:!0});var m=v(t);f&&f.l(m),m.forEach(h),c.forEach(h),this.h()},h(){g(t,"class","layercake-layout-svg_g"),g(t,"transform",s="translate("+n[7].left+", "+n[7].top+")"),g(e,"class","layercake-layout-svg svelte-17l4rdd"),g(e,"viewBox",n[4]),g(e,"width",n[5]),g(e,"height",n[6]),B(e,"z-index",n[2],!1),B(e,"pointer-events",n[3]===!1?"none":null,!1)},m(l,c){V(l,e,c),w(e,a),i&&i.m(a,null),w(e,t),f&&f.m(t,null),n[13](t),n[14](e),o=!0},p(l,[c]){i&&i.p&&(!o||c&2049)&&T(i,r,l,l[11],o?J(r,l[11],c,ie):A(l[11]),X),f&&f.p&&(!o||c&2049)&&T(f,_,l,l[11],o?J(_,l[11],c,re):A(l[11]),R),(!o||c&128&&s!==(s="translate("+l[7].left+", "+l[7].top+")"))&&g(t,"transform",s),(!o||c&16)&&g(e,"viewBox",l[4]),(!o||c&32)&&g(e,"width",l[5]),(!o||c&64)&&g(e,"height",l[6]),c&4&&B(e,"z-index",l[2],!1),c&8&&B(e,"pointer-events",l[3]===!1?"none":null,!1)},i(l){o||(E(i,l),E(f,l),o=!0)},o(l){k(i,l),k(f,l),o=!1},d(l){l&&h(e),i&&i.d(l),f&&f.d(l),n[13](null),n[14](null)}}}function ce(n,e,a){let t,s,o,{$$slots:r={},$$scope:i}=e,{element:_=void 0}=e,{innerElement:f=void 0}=e,{zIndex:l=void 0}=e,{pointerEvents:c=void 0}=e,{viewBox:u=void 0}=e;const{containerWidth:m,containerHeight:p,padding:b}=U("LayerCake");y(n,m,d=>a(5,t=d)),y(n,p,d=>a(6,s=d)),y(n,b,d=>a(7,o=d));function $(d){F[d?"unshift":"push"](()=>{f=d,a(1,f)})}function Y(d){F[d?"unshift":"push"](()=>{_=d,a(0,_)})}return n.$$set=d=>{"element"in d&&a(0,_=d.element),"innerElement"in d&&a(1,f=d.innerElement),"zIndex"in d&&a(2,l=d.zIndex),"pointerEvents"in d&&a(3,c=d.pointerEvents),"viewBox"in d&&a(4,u=d.viewBox),"$$scope"in d&&a(11,i=d.$$scope)},[_,f,l,c,u,t,s,o,m,p,b,i,r,$,Y]}class de extends W{constructor(e){super(),H(this,e,ce,fe,N,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4})}}function G(n,e,a){const t=n.slice();return t[4]=e[a],t}function K(n){let e;return{c(){e=D("rect")},l(a){e=S(a,"rect",{}),v(e).forEach(h)},m(a,t){V(a,e,t)},p:Z,d(a){a&&h(e)}}}function ue(n){let e,a=n[0],t=[];for(let s=0;s<a.length;s+=1)t[s]=K(G(n,a,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=M()},l(s){for(let o=0;o<t.length;o+=1)t[o].l(s);e=M()},m(s,o){for(let r=0;r<t.length;r+=1)t[r].m(s,o);V(s,e,o)},p(s,o){if(o&1){a=s[0];let r;for(r=0;r<a.length;r+=1){const i=G(s,a,r);t[r]?t[r].p(i,o):(t[r]=K(),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=a.length}},d(s){x(t,s),s&&h(e)}}}function _e(n){let e,a;return e=new de({props:{$$slots:{default:[ue]},$$scope:{ctx:n}}}),{c(){j(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,s){L(e,t,s),a=!0},p(t,[s]){const o={};s&129&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){a||(E(e.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),a=!1},d(t){P(e,t)}}}function me(n,e,a){let t;const{data:s,width:o,height:r}=U("LayerCake");return y(n,s,i=>a(0,t=i)),[t,s]}class ge extends W{constructor(e){super(),H(this,e,me,_e,N,{})}}function he(n){let e,a;return e=new ge({}),{c(){j(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,s){L(e,t,s),a=!0},i(t){a||(E(e.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),a=!1},d(t){P(e,t)}}}function pe(n){let e,a,t,s,o,r,i,_,f;s=new oe({props:{multiple:"false"}}),s.$on("drop",n[1]);function l(u){n[2](u)}let c={$$slots:{default:[he]},$$scope:{ctx:n}};return n[0].profile!==void 0&&(c.data=n[0].profile),i=new le({props:c}),F.push(()=>ee(i,"data",l)),{c(){e=I("div"),a=I("div"),t=I("div"),j(s.$$.fragment),o=te(),r=I("div"),j(i.$$.fragment),this.h()},l(u){e=z(u,"DIV",{class:!0});var m=v(e);a=z(m,"DIV",{class:!0});var p=v(a);t=z(p,"DIV",{class:!0});var b=v(t);C(s.$$.fragment,b),b.forEach(h),p.forEach(h),o=ne(m),r=z(m,"DIV",{class:!0});var $=v(r);C(i.$$.fragment,$),$.forEach(h),m.forEach(h),this.h()},h(){g(t,"class","py-2 inline-block w-full sm:px-6 lg:px-8"),g(a,"class","overflow-x-auto sm:-mx-6 lg:-mx-8"),g(r,"class","flex flex-grow my-4 w-full place-items-center"),g(e,"class","container flex w-7/8 flex-col mt-6 mx-8 svelte-a4p85k")},m(u,m){V(u,e,m),w(e,a),w(a,t),L(s,t,null),w(e,o),w(e,r),L(i,r,null),f=!0},p(u,[m]){const p={};m&32&&(p.$$scope={dirty:m,ctx:u}),!_&&m&1&&(_=!0,p.data=u[0].profile,ae(()=>_=!1)),i.$set(p)},i(u){f||(E(s.$$.fragment,u),E(i.$$.fragment,u),f=!0)},o(u){k(s.$$.fragment,u),k(i.$$.fragment,u),f=!1},d(u){u&&h(e),P(s),P(i)}}}const Q="http://127.0.0.1:5000/api";function ve(n,e,a){let t;y(n,q,_=>a(0,t=_));let s={accepted:[],rejected:[]};async function o(){se(q,t.profile=await(await fetch(`${Q}/profile`)).json(),t)}async function r(_){const{acceptedFiles:f,fileRejections:l}=_.detail;s.accepted=[...s.accepted,...f],s.rejected=[...s.rejected,...l];var c=new FormData;c.append("file",s.accepted[0]),await fetch(`${Q}/profile`,{method:"POST",body:c}),await o()}function i(_){n.$$.not_equal(t.profile,_)&&(t.profile=_,q.set(t))}return[t,r,i]}class $e extends W{constructor(e){super(),H(this,e,ve,pe,N,{})}}export{$e as default};
