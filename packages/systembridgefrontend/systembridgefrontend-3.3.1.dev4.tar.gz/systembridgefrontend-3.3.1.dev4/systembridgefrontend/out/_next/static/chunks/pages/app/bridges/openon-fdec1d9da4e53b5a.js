(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{1328:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/bridges/openon",function(){return t(2555)}])},311:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(6042),i=t(9396),a=t(5893),s=t(7294),o=t(1163),c=t(9008),l=t.n(c),u=t(8298),d=t(2734),p=t(2293),h=t(3156),x=t(155),f=t(6886),m=t(3321),v=t(5861),y=t(7357);function g(e){var n=e.children,t=(0,u.Z)({disableHysteresis:!0,threshold:24});return(0,s.cloneElement)(n,{elevation:t?4:0})}var j=function(){var e=(0,s.useState)(!1),n=e[0],t=e[1],r=((0,s.useCallback)((function(){t(!n)}),[n]),(0,d.Z)());return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(g,{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{color:"transparent",elevation:0,children:(0,a.jsx)(h.Z,{maxWidth:"xl",sx:{padding:0},children:(0,a.jsx)(x.Z,{sx:{minHeight:50,maxHeight:50,padding:0,flex:1,alignItems:"center",justifyContent:"space-between",display:"flex",flexWrap:"nowrap"},children:(0,a.jsx)(f.ZP,{item:!0,children:(0,a.jsx)(m.Z,{href:"https://system-bridge.timmo.dev",target:"_blank",children:(0,a.jsx)(v.Z,{component:"div",variant:"h4",sx:{textTransform:"none",userSelect:"none",color:r.palette.primary.contrastText},children:"System Bridge"})})})})})}),(0,a.jsx)(y.Z,{sx:{height:r.spacing(18)}})]})})})},Z=!1;var w=function(e){var n=(0,o.useRouter)();return(0,s.useEffect)((function(){if(n.isReady&&!Z){var e,t,a,s;Z=!0;var o=(null===(e=n.query)||void 0===e?void 0:e.apiKey)||"",c=(null===(t=n.query)||void 0===t?void 0:t.apiPort)||"9170",l=!1;if((null===(a=n.query)||void 0===a?void 0:a.apiKey)||(l=!0,o=window.prompt("Please enter your API key",o)),(null===(s=n.query)||void 0===s?void 0:s.apiPort)||(l=!0,c=window.prompt("Please enter your API port (default: 9170)",c)),l&&o&&c){var u=n.asPath.split("?")[0];n.replace({pathname:u.includes(".html")?u:"".concat(u,".html"),query:(0,i.Z)((0,r.Z)({},n.query),{apiKey:o,apiPort:c})})}}}),[n]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,a.jsx)("link",{rel:"canonical",href:e.url}),(0,a.jsx)("meta",{name:"description",content:e.description?"".concat(e.description):e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,a.jsx)("meta",{name:"keywords",content:e.keywords?"".concat(e.keywords):"system-bridge, system, bridge, typescript"})]}),!e.noHeader&&(0,a.jsx)(j,{}),e.children]})}},2555:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return P}});var r=t(5893),i=t(7294),a=t(7568),s=t(6042),o=t(9396),c=t(603),l=t(4051),u=t.n(l),d=t(1163),p=t(2734),h=t(3156),x=t(6886),f=t(8456),m=t(5861),v=t(1713),y=t(9386),g=t(3321),j=t(9669),Z=t.n(j),w=t(1946);var b=function(){var e=(0,d.useRouter)().query,n=(0,i.useState)(),t=n[0],l=n[1],j=(0,i.useState)(),b=j[0],k=j[1],P=(0,c.Z)((0,w.r)(),1)[0],S=(0,i.useState)(!1),_=S[0],C=S[1],K=(0,i.useState)(""),E=K[0],q=K[1],B=(0,i.useCallback)((0,a.Z)(u().mark((function n(){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return q(e.url),n.next=3,Z().get("http://".concat((e.apiHost,window.location.hostname),":").concat(e.apiPort||9170,"/bridges"),{headers:{"api-key":e.apiKey}});case 3:(t=n.sent)&&t.status<400&&l(t.data.filter((function(e){return e.apiKey})));case 5:case"end":return n.stop()}}),n)}))),[e.apiHost,e.apiPort,e.apiKey,e.url]);function H(){return(H=(0,a.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===b||void 0===b?void 0:b.apiKey)){e.next=11;break}return e.prev=1,e.next=4,Z().post("http://".concat(b.host,":").concat(b.port,"/open"),{path:E},{headers:{"api-key":b.apiKey}});case 4:(n=e.sent)&&n.status<400&&console.log(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}(0,i.useEffect)((function(){!_&&e&&e.apiKey&&(C(!0),B())}),[_,B,e]);var O=(0,p.Z)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(h.Z,{maxWidth:"lg",children:P||t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{component:"h2",variant:"h3",sx:{margin:O.spacing(2,1.5,6)},children:"Open URL On.."}),t?(0,r.jsx)(v.Z,{id:"bridge",options:t,value:b,getOptionLabel:function(e){return e.name},renderInput:function(e){return(0,r.jsx)(y.Z,(0,o.Z)((0,s.Z)({},e),{label:"Bridge",variant:"outlined"}))},onChange:function(e,n){n&&k(n)},sx:{margin:O.spacing(2,2.5),width:"calc(100% - 32px)"}}):"",(0,r.jsx)(y.Z,{fullWidth:!0,id:"url",label:"URL",onChange:function(e){q(e.target.value)},type:"url",value:E,variant:"outlined",sx:{margin:O.spacing(2,2.5),width:"calc(100% - 32px)"}}),(0,r.jsx)(g.Z,{color:"primary",disabled:!b||!E,variant:"contained",onClick:function(){return H.apply(this,arguments)},sx:{margin:O.spacing(6,2.5,2),width:"calc(100% - 32px)"},children:"Send"})]}):(0,r.jsx)(x.ZP,{container:!0,direction:"row",justifyContent:"center",sx:{margin:O.spacing(10,0,8)},children:(0,r.jsx)(f.Z,{})})})})},k=t(311);var P=function(){return(0,r.jsx)(k.Z,{title:"Open URL On",url:"https://system-bridge.timmo.dev",description:"Frontend for System Bridge",noHeader:!0,children:(0,r.jsx)(b,{})})}}},function(e){e.O(0,[51,356,316,699,713,669,774,888,179],(function(){return n=1328,e(e.s=n);var n}));var n=e.O();_N_E=n}]);