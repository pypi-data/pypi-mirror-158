{"version":3,"file":"chunks/0ac7a5afdd986a57dfc6.min.js","mappings":"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","sources":["webpack://referencewidget/./ftw/referencewidget/resources/src/widget/App.vue","webpack://referencewidget/./ftw/referencewidget/resources/src/widget/components/Pagination.vue","webpack://referencewidget/./ftw/referencewidget/resources/src/widget/components/Pagination.vue?1ecb","webpack://referencewidget/./ftw/referencewidget/resources/src/widget/components/searchForm.vue","webpack://referencewidget/./ftw/referencewidget/resources/src/widget/components/Breadcrumbs.vue","webpack://referencewidget/./ftw/referencewidget/resources/src/widget/components/ListItems.vue","webpack://referencewidget/./ftw/referencewidget/resources/src/widget/components/searchForm.vue?4cfa","webpack://referencewidget/./ftw/referencewidget/resources/src/widget/components/Breadcrumbs.vue?c37a","webpack://referencewidget/./ftw/referencewidget/resources/src/widget/components/ListItems.vue?ca47","webpack://referencewidget/./ftw/referencewidget/resources/src/widget/App.vue?2ef7","webpack://referencewidget/./ftw/referencewidget/resources/src/main.js"],"sourcesContent":["<template>\n  <div ref=\"root\">\n    <div\n      :id=\"browserName\"\n      class=\"collapse\"\n      tabindex=\"-1\"\n      aria-labelledby=\"ref-modal-title\"\n      aria-hidden=\"true\"\n      ref=\"browser\"\n    >\n      <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">Choose content</div>\n          <div class=\"modal-body\">\n            <searchForm @search=\"search\" @reset=\"reset\" />\n            <Breadcrumbs\n              :breadcrumbs=\"breadcrumbs\"\n              :fetchData=\"fetchData\"\n              :portalURL=\"portalURL\"\n            />\n            <Pagination\n              v-if=\"data.batching\"\n              @next=\"fetchData\"\n              @previous=\"fetchData\"\n              :batching=\"data.batching\"\n            />\n            total {{ data.items_total }}\n\n            <ListItems\n              :fetchData=\"fetchData\"\n              :items=\"data.items\"\n              :selectedItems=\"selected\"\n              :inputType=\"inputType\"\n              :selectableTypes=\"selectableTypes\"\n              :traversableTypes=\"traversableTypes\"\n              @checked=\"updateSelected\"\n            />\n          </div>\n\n          <div class=\"modal-footer\">\n            <button\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-bs-toggle=\"collapse\"\n              :data-bs-target=\"`#${browserName}`\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"widget-selected-items\">\n      <ul class=\"list-group\">\n        <li class=\"list-group-item\" v-for=\"item in selected\" :key=\"item\">\n          <input\n            type=\"checkbox\"\n            checked\n            :name=\"fieldName\"\n            :value=\"item.replace(portalURL, portalPath)\"\n          />\n          {{ item }}\n        </li>\n      </ul>\n    </div>\n    <button\n      type=\"button\"\n      class=\"btn btn-primary\"\n      data-bs-toggle=\"collapse\"\n      aria-expanded=\"false\"\n      :aria-controls=\"browserName\"\n      :data-bs-target=\"`#${browserName}`\"\n    >\n      {{ buttonLable }}\n    </button>\n  </div>\n</template>\n<script>\nimport Pagination from \"@/components/Pagination.vue\";\nimport SearchForm from \"@/components/searchForm.vue\";\nimport Breadcrumbs from \"@/components/Breadcrumbs.vue\";\nimport ListItems from \"@/components/ListItems.vue\";\n\nexport default {\n  components: {\n    Pagination,\n    SearchForm,\n    Breadcrumbs,\n    ListItems,\n  },\n  data() {\n    return {\n      open: false,\n      // bootstrap: null,\n      portalURL: \"\",\n      baseURL: \"\",\n      startURL: \"\",\n      portalPath: \"\",\n      fieldName: \"\",\n      inputType: \"\",\n      translations: {},\n      data: {},\n      breadcrumbs: [],\n      selected: [],\n      selectableTypes: [],\n      traversableTypes: [],\n      formData: {\n        searchTerm: \"\",\n        sortOn: \"getObjPositionInParent\",\n        sortOrder: \"ascending\",\n      },\n    };\n  },\n  created() {\n    this.baseURL = document.body.getAttribute(\"data-base-url\");\n    this.portalURL = document.body.getAttribute(\"data-portal-url\");\n  },\n  mounted() {\n    const wrapperElement = this.$refs.root.parentElement;\n    this.startURL = wrapperElement.getAttribute(\"data-starturl\");\n    this.portalPath = wrapperElement.getAttribute(\"data-portalpath\");\n    this.fieldName = wrapperElement.getAttribute(\"data-fieldname\");\n    this.inputType = wrapperElement.getAttribute(\"data-inputtype\");\n    this.selectableTypes = JSON.parse(\n      wrapperElement.getAttribute(\"data-selectabletypes\")\n    );\n    this.traversableTypes = JSON.parse(\n      wrapperElement.getAttribute(\"data-traversabletypes\")\n    );\n    this.translations = JSON.parse(\n      wrapperElement.getAttribute(\"data-translations\")\n    );\n\n    this.loadSelectedItems(wrapperElement);\n\n    this.$refs.browser.addEventListener(\"show.bs.collapse\", () => {\n      this.fetchData(this.startURL);\n      this.open = true;\n    });\n    this.$refs.browser.addEventListener(\"hidden.bs.collapse\", () => {\n      this.open = false;\n    });\n\n    // this.loadBootstrap();\n  },\n  methods: {\n    async fetchData(url, options) {\n      let params = {\n        metadata_fields: [\"UID\", \"is_folderish\", \"portal_type\"],\n        sort_on: this.formData.sortOn,\n        sort_order: this.formData.sortOrder,\n      };\n\n      if (!url) {\n        url = this.data[\"@id\"];\n      }\n\n      const isSearch = url.indexOf(\"/@search\") != -1;\n\n      if (options) {\n        params = Object.assign(params, options);\n      }\n\n      if (!isSearch) {\n        params.expand = \"breadcrumbs\";\n      }\n\n      const response = await this.axios.get(url, { params: params });\n\n      this.data.items = response.data.items;\n      this.data.items_total = response.data.items_total;\n      this.data.batching = response.data.batching;\n\n      if (!isSearch) {\n        this.data[\"@id\"] = response.data[\"@id\"];\n      }\n      if (response.data[\"@components\"]) {\n        this.breadcrumbs = response.data[\"@components\"].breadcrumbs.items;\n      }\n    },\n    search(formData) {\n      this.formData = Object.assign({}, this.formData, formData);\n      const url = this.data[\"@id\"] + \"/@search\";\n      const currentURL = new URL(this.data[\"@id\"]);\n      let options = { \"path.query\": currentURL.pathname, \"path.depth\": 1 };\n      if (this.formData.searchTerm.length > 2) {\n        options.SearchableText = \"*\" + this.formData.searchTerm + \"*\";\n        options[\"path.depth\"] = -1;\n      }\n      this.fetchData(url, options);\n    },\n    reset(formData) {\n      this.formData = formData;\n      this.fetchData(this.startURL);\n    },\n    updateSelected(checked) {\n      this.selected = checked;\n      if (this.inputType == \"radio\") {\n        window.jQuery.fn.collapse.Constructor.getInstance(this.$refs.browser).hide();\n      }\n    },\n    loadSelectedItems(wrapperElement) {\n      wrapperElement.parentElement\n        .querySelectorAll(\".selected_items input\")\n        .forEach((element) => {\n          this.selected.push(\n            this.portalURL + element.value.replace(this.portalPath, \"\")\n          );\n        });\n      wrapperElement.parentElement.querySelector(\".selected_items\").remove();\n    },\n    // async loadBootstrap() {\n    //   this.bootstrap = await import(\"bootstrap\");\n    // },\n  },\n  computed: {\n    browserName() {\n      return `reference-widget-browser-${this.fieldName.replace(/\\./g, \"_\")}`;\n    },\n    buttonLable() {\n      return this.open ? \"Close\" : \"Browse\";\n    },\n  },\n};\n</script>\n","<template>\n  <nav aria-label=\"Pagination for this listing\" v-if=\"batching\">\n    <ul class=\"pagination\">\n      <li :class=\"batching.prev ? 'page-item' : 'page-item disabled'\">\n        <a href=\"#\" @click.prevent=\"triggerPrevious\" class=\"page-link\">\n          Previous\n        </a>\n      </li>\n      <li :class=\"batching.next ? 'page-item' : 'page-item disabled'\">\n        <a href=\"#\" @click.prevent=\"triggerNext\" class=\"page-link\"> Next </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n<script>\nexport default {\n  props: {\n    batching: {\n      type: Object,\n      required: true,\n      default: () => {\n        return null;\n      },\n    },\n  },\n  methods: {\n    triggerNext() {\n      this.$emit(\"next\", this.batching.next);\n    },\n    triggerPrevious() {\n      this.$emit(\"previous\", this.batching.prev);\n    },\n  },\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=74a4a50c\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/maethu/webcloud7/wcs.simplelayout/sources/ftw.referencewidget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <form\n    @submit.stop.prevent=\"search\"\n    class=\"row my-2 gy-2 gx-3 align-items-center\"\n  >\n    <div class=\"col\">\n      <div class=\"form-floating\">\n        <select\n          class=\"form-select\"\n          id=\"sortattr\"\n          aria-label=\"Sort attribute\"\n          v-model=\"sortOn\"\n          @change=\"() => search()\"\n        >\n          <template\n            v-for=\"(option, index) in sortAttribute\"\n            :key=\"option.value\"\n          >\n            <option :selected=\"index == 0\" :value=\"option.value\">\n              {{ option.title }}\n            </option>\n          </template>\n        </select>\n        <label for=\"sortattr\">Sort on</label>\n      </div>\n    </div>\n    <div class=\"col\">\n      <div class=\"form-floating\">\n        <select\n          class=\"form-select\"\n          id=\"sortorder\"\n          aria-label=\"Sort order\"\n          v-model=\"sortOrder\"\n          @change=\"() => search()\"\n        >\n          <option selected value=\"ascending\">Ascending</option>\n          <option selected value=\"descending\">Descending</option>\n        </select>\n        <label for=\"sortorder\">Sort order</label>\n      </div>\n    </div>\n    <div class=\"col\">\n      <div class=\"form-floating\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"searchFilter\"\n          placeholder=\"Text\"\n          v-model=\"searchTerm\"\n        />\n        <label for=\"searchFilter\">Search</label>\n      </div>\n    </div>\n    <div class=\"col\">\n      <button type=\"submit\" class=\"btn btn-primary\">Search</button>\n      <button @click.stop.prevent=\"reset\" class=\"btn btn-danger\">\n        Reset\n      </button>\n    </div>\n  </form>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      searchTerm: \"\",\n      sortOn: \"getObjPositionInParent\",\n      sortOrder: \"ascending\",\n      sortAttribute: [\n        { title: \"Position\", value: \"getObjPositionInParent\" },\n        { title: \"Title\", value: \"sortable_title\" },\n        { title: \"Created\", value: \"created\" },\n        { title: \"Modified\", value: \"modified\" },\n      ],\n    };\n  },\n  methods: {\n    search() {\n      this.$emit(\"search\", {\n        searchTerm: this.searchTerm,\n        sortOn: this.sortOn,\n        sortOrder: this.sortOrder,\n      });\n    },\n    reset() {\n      this.$emit(\"reset\", {\n        searchTerm: \"\",\n        sortOn: \"getObjPositionInParent\",\n        sortOrder: \"ascending\",\n      });\n    },\n  },\n};\n</script>\n","<template>\n  <nav aria-label=\"breadcrumb\">\n    <ol class=\"breadcrumb\">\n      <li class=\"breadcrumb-item\">\n        <a :href=\"portalURL\" @click.prevent.stop=\"fetchData(portalURL)\"\n          >Startpage</a\n        >\n      </li>\n      <template v-for=\"(item, index) in breadcrumbs\" :key=\"item['@id0']\">\n        <li class=\"breadcrumb-item\" v-if=\"index != breadcrumbs.length - 1\">\n          <a :href=\"item['@id']\" @click.stop.prevent=\"fetchData(item['@id'])\">{{\n            item.title\n          }}</a>\n        </li>\n        <li v-else class=\"breadcrumb-item active\" aria-current=\"page\">\n          {{ item.title }}\n        </li>\n      </template>\n    </ol>\n  </nav>\n</template>\n<script>\nexport default {\n  props: {\n    breadcrumbs: {\n      type: Array,\n      required: true,\n      default: () => {\n        return [];\n      },\n    },\n    portalURL: {\n      type: String,\n      required: true,\n      default: () => {\n        return \"\";\n      },\n    },\n    fetchData: {\n      type: Function,\n      required: true,\n      default: () => {\n        return null;\n      },\n    },\n  },\n};\n</script>\n","<template>\n  <ul class=\"list-group\">\n    <template v-for=\"item in items\" :key=\"item.UID\">\n      <li class=\"list-group-item\">\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input me-1\"\n            :type=\"inputType\"\n            :value=\"item['@id']\"\n            :checked=\"item['@id'] in selectedProxy\"\n            :selected=\"item['@id'] in selectedProxy\"\n            v-model=\"selectedProxy\"\n            @change=\"checked\"\n            :disabled=\"selectableTypes.indexOf(item.portal_type) == -1\"\n          />\n          <label class=\"form-check-label\">\n            <a\n              v-if=\"\n                item.is_folderish &&\n                traversableTypes.indexOf(item.portal_type) != -1\n              \"\n              @click.prevent.stop=\"fetchData(item['@id'])\"\n              :href=\"item['@id']\"\n              class=\"list-group-item-action\"\n              >{{ item.title }}</a\n            >\n            <span v-else> {{ item.title }}</span>\n          </label>\n        </div>\n      </li>\n    </template>\n  </ul>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      selected: [],\n    };\n  },\n  props: {\n    items: {\n      type: Array,\n      required: true,\n      default: () => {\n        return [];\n      },\n    },\n    selectedItems: {\n      type: Array,\n      required: true,\n      default: () => {\n        return [];\n      },\n    },\n    inputType: {\n      type: String,\n      required: true,\n      default: () => {\n        return \"checkbox\";\n      },\n    },\n    selectableTypes: {\n      type: Array,\n      required: true,\n      default: () => {\n        return [];\n      },\n    },\n    traversableTypes: {\n      type: Array,\n      required: true,\n      default: () => {\n        return [];\n      },\n    },\n    fetchData: {\n      type: Function,\n      required: true,\n      default: () => {\n        return null;\n      },\n    },\n  },\n  mounted() {\n    this.selected = this.selectedItems;\n  },\n  methods: {\n    checked() {\n      this.$emit(\"checked\", this.selected);\n    },\n  },\n  computed: {\n    selectedProxy: {\n      get() {\n        return this.selected;\n      },\n      set(value) {\n        if (this.inputType == \"checkbox\") {\n          this.selected = value;\n        } else {\n          this.selected = [value];\n        }\n      },\n    },\n  },\n};\n</script>\n","import { render } from \"./searchForm.vue?vue&type=template&id=45593cbe\"\nimport script from \"./searchForm.vue?vue&type=script&lang=js\"\nexport * from \"./searchForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/maethu/webcloud7/wcs.simplelayout/sources/ftw.referencewidget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Breadcrumbs.vue?vue&type=template&id=0034c91a\"\nimport script from \"./Breadcrumbs.vue?vue&type=script&lang=js\"\nexport * from \"./Breadcrumbs.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/maethu/webcloud7/wcs.simplelayout/sources/ftw.referencewidget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ListItems.vue?vue&type=template&id=5678b698\"\nimport script from \"./ListItems.vue?vue&type=script&lang=js\"\nexport * from \"./ListItems.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/maethu/webcloud7/wcs.simplelayout/sources/ftw.referencewidget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=335dfdea\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/maethu/webcloud7/wcs.simplelayout/sources/ftw.referencewidget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import App from \"./widget/App.vue\";\nimport { createApp } from \"vue\";\nimport VueAxios from \"vue-axios\";\nimport axios from \"axios\";\nimport qs from \"qs\";\n\nfunction axiosInstance() {\n  const instance = axios.create({\n    paramsSerializer: (params) =>\n      qs.stringify(params, { arrayFormat: \"repeat\" }),\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Prefer: \"return=representation\",\n    },\n  });\n  return instance;\n}\n\nfunction initReferenceWidget() {\n  document.querySelectorAll(\".reference-widget-app\").forEach((element) => {\n    if (element.classList.contains(\"initialized\")) {\n      return;\n    }\n\n    const app = createApp(App);\n    app.use(VueAxios, {\n      axios: axiosInstance(),\n    });\n    app.mount(element);\n    element.classList.add(\"initialized\");\n  });\n}\n\ninitReferenceWidget();\nwindow.initReferenceWidget = initReferenceWidget;\n"],"names":["ref","class","props","batching","type","Object","required","default","methods","triggerNext","this","$emit","next","triggerPrevious","prev","href","for","selected","value","data","searchTerm","sortOn","sortOrder","sortAttribute","title","search","reset","breadcrumbs","Array","portalURL","String","fetchData","Function","items","selectedItems","inputType","selectableTypes","traversableTypes","mounted","checked","computed","selectedProxy","get","set","components","Pagination","SearchForm","id","option","index","placeholder","Breadcrumbs","item","length","ListItems","UID","disabled","indexOf","portal_type","open","baseURL","startURL","portalPath","fieldName","translations","formData","created","document","body","getAttribute","wrapperElement","$refs","root","parentElement","JSON","parse","loadSelectedItems","browser","addEventListener","async","url","options","params","metadata_fields","sort_on","sort_order","isSearch","assign","expand","response","axios","items_total","URL","pathname","SearchableText","updateSelected","window","jQuery","fn","collapse","Constructor","getInstance","hide","querySelectorAll","forEach","element","push","replace","querySelector","remove","browserName","buttonLable","tabindex","key","name","initReferenceWidget","classList","contains","app","App","use","paramsSerializer","arrayFormat","headers","Accept","Prefer","mount","add"],"sourceRoot":""}